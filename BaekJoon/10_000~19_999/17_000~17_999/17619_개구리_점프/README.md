# C#

## 난이도 : 골드 3

## 알고리즘 분류
  - 자료 구조
  - 정렬
  - 스위핑
  - 분리 집합

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 512 MB

## 문제
통나무 N개가 가로 (수평) 방향으로 연못에 떠 있다. 개구리는 한 통나무 A에서 다른 통나무 B로 정확히 수직 방향으로 점프할 수 있다. 단, 점프할 때 다른 통나무 위를 (끝 점 포함) 지나면 안된다.<br/>
예를 들어 <그림 1>에서 1번 통나무에서 2번 통나무로 점선을 따라 개구리가 점프하는 것이 가능하다. 1번 통나무에서 2번 통나무로 점프한 후 다시 3번 통나무로 점프하면 1번 통나무에서 3번 통나무로 이동하는 것이 가능하다. (통나무 위에서 걸어서 움직이는 것은 언제든 가능하다.)<br/>
통나무들의 위치를 입력받아 질문으로 주어진 통나무들의 쌍에 대해서 개구리가 한 통나무에서 다른 통나무로 한번 이상의 점프로 이동이 가능한지 판단하는 프로그램을 작성하라.<br/>


## 입력
첫 번째 줄에 통나무 개수 N과 질문의 개수 Q가 주어진다. 다음 N개의 줄에 각 통나무에 x1, x2, y의 세 정수 좌표가 주어진다. 주어진 통나무는 두 점 (x1, y)와 (x2, y)를 잇는 형태이다. (x1 < x2) 모든 좌표는 0이상 109이하이다. 통나무들은 주어진 순서대로 1번부터 번호가 붙어 있다. 서로 다른 두 통나무는 (끝점에서도) 만나지 않는다. 다음 Q개의 줄에 서로 다른 두 통나무의 번호가 주어진다. (1 ≤ N ≤ 100,000, 1 ≤ Q ≤ 100,000)<br/>


## 출력
Q개의 줄을 출력한다. 각 줄에는 주어진 순서대로 질문에 대한 대답이 출력되어야 한다. 질문에 주어진 두 통나무에 대해서 개구리가 한 통나무에서 다른 통나무로 한번 이상의 점프로 이동이 가능한 경우 대답은 1, 그렇지 않은 경우 대답은 0이다.<br/>


## 예제 입력
4 2<br/>
1 5 2<br/>
3 7 4<br/>
7 9 1<br/>
10 13 4<br/>
1 3<br/>
1 4<br/>


## 예제 출력
1<br/>
0<br/>


## 풀이
개구리 점프 방식을 보면 x간격이 겹치는 두 통나무는 서로 이동이 가능하다.<br/>
이동이 가능한 통나무들간 그룹을 지으면 통나무 그룹을 분할 가능하다.<br/>

이동 가능한 통나무를 그룹짓는 것은 그리디 알고리즘을 이용했다.<br/>
시작 지점으로 통나무를 정렬하고 이전 끝지점과 비교한다.<br/>
해당 시작지점이 끝지점보다 작으면 같은 그룹이고, 끝지점이 길어졌는지 확인한다.<br/>
반면 이전 끝지점보다 큰 경우 새로운 그룹이고, 끝지점을 갱신한다.<br/>
시작지점으로 정렬했기에 끊어진 경우 중간에 이어주는 통나무가 올 수 없다.<br/>

이후에 두 통나무가 같은 그룹에 있는지 확인하면 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/17619