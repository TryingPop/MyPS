# C#

## 난이도 : 플레티넘 3

## 알고리즘 분류
  - 자료 구조
  - 트리
  - 트라이

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 512 MB

## 문제
0이 하나 포함되어 있는 배열 A가 있다. 이때, 다음 쿼리를 수행해야 한다.<br/>

  - 1 x: A에 x를 추가한다.
  - 2 x: A에서 x를 제거한다. A에 x가 두 개 이상 있는 경우에는 하나만 삭제한다. 항상 A에 x가 있는 쿼리만 주어진다.
  - 3 x: A에 포함된 각각의 원소와 x를 XOR 연산을 한 다음, 가장 큰 값을 출력한다.


## 입력
첫째 줄에 쿼리의 개수 M(1 ≤ M ≤ 200,000)이 주어진다. 둘째 줄부터 M개의 줄에 쿼리가 주어진다. 입력으로 주어지는 x의 범위는 109보다 작거나 같은 자연수이다.<br/>
3번 쿼리는 하나 이상 주어진다.<br/>


## 출력
쿼리를 수행한 결과를 출력한다.<br/>


## 예제 입력
10<br/>
1 8<br/>
1 9<br/>
1 11<br/>
1 6<br/>
1 1<br/>
3 3<br/>
2 8<br/>
3 3<br/>
3 8<br/>
3 11<br/>


## 예제 출력
11<br/>
10<br/>
14<br/>
13<br/>


## 풀이
숫자를 이진수로 표현한다.<br/>
그리고 1번 쿼리는 각 0, 1로 표현된 이진수를 트라이 자료 구조에 저장한다.<br/>
2번 쿼리는 해당 0, 1로 표현된 이진수를 트라이 자료 구조에서 제거하면 된다.<br/>


3번 쿼리는 XOR 했을 때 가장 큰 값을 찾아야 한다.<br/>
이는 가장 큰 단위부터 비트를 비교해서 다른게 있다면 다른 루트로 가면 XOR 연산한 최댓값이 보장된다.<br/>
그래서 트라이 자료구조의 가장 큰 비트값부터 이어서 저장해간다.<br/>
그리고 다른 것이 있다면 다른 루트로 가면 된다.<br/>
이렇게 찾은 값과 기존 값을 XOR 연산해서 3번 쿼리에 답한다.<br/>


트라이 자료 구조를 정의하는 대신에 연결 리스트를 이용해 트라이 자료 구조처럼 작동하게 했다.<br/>
노드를 풀에서 가져오는 식으로 구현했는데 풀의 크기가 작아 노드를 못가져와서 2번 틀렸다.<br/>
약 300만 크기의 풀을 만들고 구현하니 이상없이 통과된다.<br/>
실제로는 값의 범위가 10억이므로 쿼리 갯수 x 30 = 600만이면 충분하다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/16903