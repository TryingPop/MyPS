# C#

## 난이도 : 실버 4

## 알고리즘 분류
  - 그리디 알고리즘

## 제한조건
  - 시간 제한 : 1.5초
  - 메모리 제한 : 256 MB

## 문제
I'm in my dream~eam~eam ♬<br/>
3단 고음에 감명을 받은 가희는 고음 경진대회를 참관하기로 했다. 음의 계이름을 수로 표현해보자. '1옥타브 도'를 1로 표현하고 1음 올라갈 때마다 그 음을 표현하는 수도 1씩 커진다고 생각할 수 있다. 음 A를 시작으로 D음씩 올리면서 고음을 부르는 경우는 첫항이 A, 공차가 D인 등차수열로 표현되며, 이러한 등차수열의 항의 개수를 X라 할 때, 이 등차수열을 X단 고음이라고 한다. 아래는 A = 1, D = 2인 6단 고음이다.<br/>

||1|2|3|4|5|6|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|11||||||O|
|9|||||O||
|7||||O|||
|5|||O||||
|3||O|||||
|1|O||||||


이러한 경진대회에는 문제가 있었는데, 한 명 이상의 참가자들이 동시에 고음을 부르는 탓에 심사를 제대로 할 수 없다는 것이다. 그래서 우리는 수로 표현된 참가자들의 음이 순서대로 주어졌을 때 가능한 경우 중, 음 A를 시작으로 D음씩 올라가는 X단 고음으로 가능한 가장 큰 X를 구하려고 한다. 이를 도와주는 프로그램을 작성하자.<br/>


## 입력
첫째 줄에 참가자들의 음의 개수를 나타내는 정수 N(1 ≤ N ≤ 2 x 104), 고음의 첫 항과 공차를 의미하는 정수 A, D(1 ≤ A, D ≤ 10^7)가 공백으로 구분되어 주어진다.<br/>
둘째 줄에 참가자들의 음을 나타내는 N개의 정수가 순서대로 공백으로 구분되어 주어진다. 이 값은 10^7을 넘지 않는 양의 정수이다.<br/>


## 출력
음 A를 시작으로 D음씩 올라가는 X단 고음으로 가능한 가장 큰 X를 출력하라.<br/>


## 예제 입력
7 3 3<br/>
3 3 9 7 2 6 9<br/>


## 예제 출력
3<br/>


## 풀이
우리가 찾고자 하는 것은, 어떤 음 a를 시작으로 공차 d를 가지는 등차수열 a, a + d, a + 2d, ..., a + (k-1)d 형태로 부를 수 있는 가장 큰 k이다.<br/>
즉, 입력으로 주어진 음 배열에서 특정 등차수열을 부분 수열로 얼마나 많이 만들 수 있는지를 찾는 문제다.<br/>


dp[i]를 0 ~ i번째 음까지 읽었을 때, 부를 수 있는 최대 고음 수라고 정의하자.<br/>
그러면 그리디 알고리즘으로 dp[n]이 우리가 찾는 가장 큰 값이 된다.<br/>


이제 각 i에 대해 dp[i]의 값을 확인하는데 dp[i]의 값은 불러야할 고음이면 최대한 부르는 값과 같다.<br/>
그래서 해당 로직으로 dp[i]의 값을 찾아갔다.<br/>


그러나 고음을 반드시 순서대로만 불러야 하므로, 매번 다음 고음(a, a + d, ...)이 등장할 때만 ret을 증가시키면 된다.<br/>
즉, 각 음을 볼 때 지금 불러야 할 고음인지 여부만 판단하면 되므로, dp 배열 없이도 단일 변수만으로 최적해를 구할 수 있다.<br/>


각 경우 노래를 부르면 불러야할 고음을 a에 d를 누적하는 연산을 하고 결과 ret에 1을 누적한다.<br/>
아닌 경우 다음 화음을 확인하는 식으로 관리하므로 각 경우 O(1)에 해결되고 확인하는 고음이 n개이므로 전체 시간복잡도는 O(n)이 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/16162