# C#

## 난이도 : 골드 2

## 알고리즘 분류
  - 수학
  - 그리디 알고리즘

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 512 MB

## 문제
윤호와 동혁이는 BOJ 알고리즘 캠프에 참가중이다. 두 사람은 문제가 너무 안 풀릴 때는 게임을 하고 문제를 풀기도 한다.<br/>
게임은 턴으로 이루어져 있으며, 각 턴의 승자는 두 사람 중에 한 사람이다. i번째 턴을 승리한 사람은 점수 2×i-1점을 갖게 되고, 턴은 1부터 시작한다.<br/>
두 정수 x와 y가 주어졌을 때, 윤호의 점수가 x, 동혁이의 점수가 y가 되는 것이 가능한지 불가능한지 구하는 프로그램을 작성하시오. 만약, 가능하다면 윤호가 최소 몇 번 이겨야 하는지도 구하시오.<br/>


## 입력
첫째 줄에 두 정수 x와 y가 주어진다. (0 ≤ x, y ≤ 10^12)<br/>


## 출력
윤호가 최소 몇 번 이겨야 하는지 출력한다. 불가능한 경우에는 -1을 출력한다.<br/>


## 예제 입력
500000 500000<br/>


## 예제 출력
294<br/>


## 풀이
i 턴 점수를 2i - 1점을 획득하므로 x턴의 윤호와 동혁이의 점수 합은 x^2 = ∑(2i - 1)이 된다.<br/>
그래서 먼저 제곱수인지 확인한다.<br/>


이후 윤호와 동혁은 2점보다 작은 점수는 1점으로 유일하고 1보다 크면서 다음으로 작은 수는 3점으로 2점은 나올 수 없다.<br/>
그래서 두 점수의 합이 x^2일 경우 x^2 - 2점이나, 2점인 경우는 불가능한 점수다.<br/>


이제 나머지 수는 만들 수 있음을 확인하자.<br/>
두 점수 합이 1인 경우 0, 1로 0, 1은 만들 수 있다.<br/>
두 점수 합이 4인 경우 0, 1, 3로 0, 1, 3, 4(= 1 + 3)는 만들 수 있다.<br/>
두 점수 합이 9인 경우 0, 1, 3, 5로 0, 1, 3, 4, 5, 6(= 1 + 5), 8(= 3 + 5), 9(= 1 + 3 + 5)는 만들 수 있다.<br/>


동혁과 윤호의 점수 합이 x ≥ 3에 대해 x^2이 2점과 x^2 - 2점을 제외한 다른 점들을 모두 만들 수 있다고 가정하자.<br/>
그러면 1판을 더한 경우 추가되는 점수는 2x + 1점이 된다.<br/>
x ≥ 3이므로 x^2 - 2 - 2x - 1 ≥ 9 - 2 - 6 - 1 = 0이다.<br/>
그래서 만들 수 있는 점수가 된다.<br/>
x^2 - 2 - 2x - 1에 2x + 1을 사용하면 x^2 - 2는 만들 수 있다.<br/>
이제 x^2 + 1, x^2 + 2, ..., x^2 + 2x - 2까지 만들 수 있음을 보이자.<br/>
이 역시 x ≥ 3이므로 x^2 + 1 - 2x - 1≥ 9 + 1 - 7 = 3이므로 이전 수들을 모두 만들 수 있다.<br/>
해당 수에 2x + 1을 더함으로써 모두 만들 수 있음을 안다.<br/>
x^2 + 2x, x^2 + 2x + 1도 똑같이 적용하면 만들 수 있다.<br/>
이는 (x + 1)^2에 대해서 2, (x +1)^2 - 2는 만들 수 없음이 성립한다.<br/>
수학적 귀납법으로 x^2 - 2, 2점을 제외한 모든 점수들을 만들 수 있다.<br/>


그래서 불가능한 경우를 보면 두 점수의 합이 x^2의 형태가 아닌 경우가 된다.<br/>
x^2인 경우면 2 또는, x^2 - 2점인 경우 불가능하다 결론을 내리면 된다.<br/>
이제 최소 횟수를 찾아 보자.<br/>
가장 큰 점수부터 해당 점수에 추가해 간다.<br/>
가능한 점수 n점을 만든다고 가정할 때,<br/>
n ≥ 2x - 1인 경우 2x - 1점을 먼저 할당한다.<br/>


그리고 남은 점수 n' = n - 2x + 1에 대해 다음 가장 큰 점수 2(x-1) - 1점을 앞과 같이 한다.<br/>
이렇게 불가능할 때까지 나아간다.<br/>


n < 2x - 1인 경우 x의 값을 1을 빼서 2x - 3을 비교한다.<br/>
이렇게 진행하면서 결과 값이 0이면 해당 뺀 횟수가 그리디로 최소임이 보장된다.<br/>
만약 0이 아닌 경우라면 오로지 1만 나올 수 있다.<br/>
2점 이상인 경우 간격이 2이므로 앞번에 더 큰 수를 선택했다는 조건을 지키지 않은 것이므로 불가능하다.<br/>
만약 더 큰 수를 선택했음에도 2가 남는다면 x^2을 초과하는 경우이므로 만들 수 있다는 가정에 모순이 된다.<br/>


1점인 경우만 본다.<br/>
두 점수 합이 1인 경우 0, 1로 0, 1은 만들 수 있다.<br/>
두 점수 합이 4인 경우 0, 1, 3로 0, 1, 3, 4(= 1 + 3)는 만들 수 있다.<br/>
두 점수 합이 9인 경우 0, 1, 3, 5로 0, 1, 3, 4, 5, 6(= 1 + 5), 8(= 3 + 5), 9(= 1 + 3 + 5)는 만들 수 있다.<br/>
해당 과정을 보면 1은 x^2 = 9점 이하에서는 나올 수 없다.<br/>


남은 값이 1이므로 적어도 1은 선택되었다. 선택되지 않았다면 그리디 선택방법에 의해 0이 남게 되고 1이 남는다는 가정에 모순이다.<br/>
그리고 그리디 방법보다 횟수가 많음을 알 수 있다.<br/>

남은 수가 1인 경우 1, 3, 5, ..., 2x - 1에서 비어있는 공간이 적어도 2개 있음을 확인하자.<br/>
만약 빈공간이 없다면 1 + 3+ .. + 2x - 1 = x^2이고 남은게 1이라면 x^2 + 1이되어 x^2을 초과해 만들 수 있음에 모순이다.<br/>
그래서 2i - 1은 선택되었고, 2i + 1은 선택안된 경우를 보자. 만약 2i - 1이 1인 경우면 빈 공간이 1개이므로, 총 합은 x^2 - 2이므로 만들 수 있다는 가정에 모순이다.<br/>
빈공간은 2i - 1은 3 이상이다. 1을 선택하지 않고 2i - 1을 선택하지 않고 2i + 1을 선택한다면 나머지가 0으로 되게 할 수 있고 이는 큰 값을 우선으로 선택한다는 가정에 모순이다.<br/>
그래서 빈 공간이 적어도 2개 이상 존재하고, 2i - 1은 선택되고 2i + 1이 선택되지 않은 경우는 1이 유일함을 알 수 있다.(여기서 i < x다!)<br/>


그리고 뽑을 수 있는 수에 한해 진행했으므로 2가 될 수 없다.<br/>
나머지는 1이고 1을 선택했으므로 그래서 2x - 1은 선택되었음은 자명하다.<br/>
그래서 2i + 1는 선택되었고, 2i - 1는 선택안된 i중 가장 작은 i를 찾자.<br/>
그러면 빈 공간이 2개이고 2j - 1이 선택되고 2j + 1이 선택안된 경우는 1이 유일하므로 해당 i는 2i - 1은 5가 될 수 없다.<br/>
이제 해당 2i - 1에 대해 2i + 1을 선택하지 않고 2i - 1를 선택하자. 그러면 3이 남고 3을 선택하면 정확히 맞출 수 있다.<br/>
그리고 그리디방법 + 1이기에 해당 수가 최소임이 보장된다.<br/>


그래서 가능한 수의 경우 그리디로 시행횟수를 찾는데, 마지막에 1이 남으면 위와같은 이유로 그리디 횟수에 +1을 해주면 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/12966