# C#

## 난이도 : 플레티넘 5

## 알고리즘 분류
  - 다이나믹 프로그래밍
  - 그래프 이론
  - 그래프 탐색
  - 트리
  - 깊이 우선 탐색
  - 트리에서의 다이나믹 프로그래밍

## 제한조건
  - 시간 제한 : 3초
  - 메모리 제한 : 1024 MB

## 문제
Kocourkov라 불리는 체코 도시에는 화려한 공공 교통 시스템이 있다. 그것은 N개의 버스 정류장과 N - 1개의 양방향 도로로 이루어져있으며, 각각의 도로는 두개의 버스 정류장을 연결한다. 각각의 버스 정류장에서는 일련의 도로들을 이용하여 다른 모든 버스 정류장에 도달할 수 있다.<br/>
매일 아침, 모든 버스 정류장에서는 나머지 버스 정류장들로 정확히 한대의 버스가 출발한다. 즉, 전체적으로 N(N - 1)개의 버스들이 있다. 버스들은 경로에 있는 모든 버스정류장에 한번씩 정차한다.<br/>
모든 버스 정류장에서는 그곳에 정차하는 모든 버스들(그곳에서 그 경로를 시작하거나 경로를 끝내는 버스들을 포함한)을 나열한 시간표가 있어야한다.<br/>
당신은 Kocourkov의 교통 시스템에 대한 설명을 받았다. 도시의 모든 버스 정류장을 위해서 특정한 정류장에 정차하는 버스들의 수를 계산하라.<br/>


## 입력
첫 번째 줄에는 도시의 버스 정류장의 수, 정수 N이 주어진다. 버스 정류장은 1번부터 N번까지 있다. 이후의 N - 1개의 줄은 도시의 도로를 나타낸다. 각각의 줄은 도로에 의해 연결된 두개의 다른 버스 정류장 번호 x, y( 1 ≤ x, y ≤ N)를 포함한다.<br/>
단 1 ≤ N ≤ 106이다.<br/>


## 출력
출력은 N개의 줄로 구성된다. i번째 줄에서는 i번 버스 정류장에 멈추는 버스의 수를 하나의 정수로 나타내야한다.<br/>


## 예제 입력
6<br/>
1 2<br/>
2 3<br/>
3 4<br/>
4 5<br/>
5 6<br/>


## 예제 출력
10<br/>
18<br/>
22<br/>
22<br/>
18<br/>
10<br/>


## 풀이
기존 트리에서 루트를 바꿔도 도착하는 버스들의 갯수는 변하지 않는다.<br/>
그래서 1번 노드를 기준으로 트리를 재설정한다.<br/>


이제 A-B를 잇는 간선에 지나는 버스의 갯수를 보면, A가 B보다 루트와 더 가깝다고 하자.<br/>
그러면 B 서브트리의 노드의 갯수를 b라하고, B 서브트리에 포함되지 않은 노드의 갯수를 a라 하자.<br/>


그러면 B에 포함되지 않은 노드들이 B에서 B에 포함되지 않은 노드들에 각각 B에서 A로 b개씩 이동한다.<br/>
즉, a x b개의 노드가 B에서 A노드로 이동한다. 그래서 A에 a x b를 누적한다.<br/>
마찬가지로 B에 속하지 않은 노드들이 각각 B의 서브트리의 노드들로 이동한다.<br/>
그래서 A에서 B노드로 a x b개 이동한다.<br/>
이렇게 각 간선을 탐색하며 인접한 노드에 값을 누적해주면 된다.<br/>



## 문제 링크
https://www.acmicpc.net/problem/12817