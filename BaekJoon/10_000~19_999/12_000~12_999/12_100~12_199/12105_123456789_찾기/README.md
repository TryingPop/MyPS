# C#

## 난이도 : 골드 2

## 알고리즘 분류
  - 다이나믹 프로그래밍
  - 문자열

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 512 MB

## 문제
문자열 S와 P가 주어졌을 때, S에서 P를 하나 또는 그 이상 찾는 방법의 수를 구하는 프로그램을 작성하시오. 이때, S에서 찾은 P의 시작 위치를 모두 곱한 수가 1부터 9까지의 자연수로 모두 나누어 떨어져야 한다.<br/>
예를 들어, P = "a", S = "aaaaaaa"인 경우에, 문제의 조건에 맞는 방법은 {1, 2, 3, 4, 5, 6, 7}, {2, 3, 4, 5, 6, 7}, {3, 4, 5, 6, 7}, {1, 3, 4, 5, 6, 7} 이 있다.<br/>

## 입력
첫째 줄에 P가, 둘째 줄에 S가 주어진다. 문자열은 알파벳 소문자로만 이루어져 있으며, 길이는 10,000을 넘지 않는 자연수이다.<br/>


## 출력
첫째 줄에 문제의 조건대로 찾는 방법의 수를 109+7로 나눈 나머지를 출력한다.<br/>


## 예제 입력
aa<br/>
aaaaaaaacaaaadaaafajaiaaaaaa<br/>

## 예제 출력
53712<br/>


## 풀이
kmp 알고리즘으로 패턴 P가 문자열 S에 매칭하는 위치를 모두 찾는다.<br/>
1 ~ 9까지 나눠떨어지는 수의 최소값은 소인수 분해하면 2^3 x 3^2 x 5 x 7임을 알 수 있다.<br/>
2, 3, 5, 7의 갯수를 이용해 경우의 수를 찾아갔다.<br/>

dp[i][two, three, five, seven] = val를 i = 0은 현재, i = 1은 다음 단계를 나타낸다.<br/>
그리고 two, three, five, seven은 2, 3, 5, 7의 개수를 나타낸다.<br/>
two는 4개 이상은 확인할 필요가 없으므로 최대 인덱스는 3이 되게 했다. 즉 two 는 0, 1, 2, 3만 가능하다.<br/>
이렇게 three, five, seven도 크기를 제한하면 two, three, five, seven의 크기는 4 x 3 x 2 x 2 = 48 < 50이다.<br/>
마지막으로 val는 해당 하는 경우의 수이다. 이렇게 현재의 경우를 모두 확인하며 다음 경우로 나아간다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/12105