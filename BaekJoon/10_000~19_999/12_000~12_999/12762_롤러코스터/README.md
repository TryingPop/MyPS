# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 다이나믹 프로그래밍

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 512 MB

## 문제
롤러코스터의 하이라이트는 내리막을 쭉 내려와서 다시 올라오는 순간일 것이다. 롤러코스터 설계자인 영창이는 이런 하이라이트 구간을 가장 좋아한다.<br/>
영창이는 하이라이트 구간이 길수록 재미있는 롤러코스터이고, 재밌을수록 이용객이 많을 것으로 생각했다.<br/>
새로 짓기엔 경제적 부담이 큰 영창이는 철골 기둥만 남은 중고 롤러코스터를 사서 개조하기로 했다.<br/>
그런데 이 구간에서 얼마나 긴 하이라이트 구간이 나올지를 모를 지경이던 영창이는 열혈 프로그래머 승균이에게 도움을 청하고자 한다.<br/>
우선 영창이는 개조하고자 하는 구간에 있는 각 기둥의 높이를 수치화했다. 이를 통해 하이라이트 구간을 만들려고 한다.<br/>
하지만 기둥을 옮기는 비용이 무척 비싸서 세워진 기둥을 최대한으로 남기는 방식으로 공사를 진행하려 한다.<br/>
예를 들면, 어떤 구간에 기둥의 높이들이 4 3 5 1 4 2 3 이라면, 높이가 5인 세 번째 기둥과 4인 다섯 번째 기둥을 제거한다면, 4, 3, 1, 2, 3인 기둥만 남아서 가장 긴 하이라이트 구간을 만들 수 있다.<br/>
하이라이트 구간으로 만들기 위해 최대한으로 남길 수 있는 기둥의 개수를 구하는 프로그램을 작성하시오.<br/>
단, 하이라이트 구간에 다시 올라오는 구간은 없을 수 있다. 그리고 롤러코스터의 진행 방향은 공사가 끝난 후 결정된다.<br/>
매끄러운 경사를 위해 연속적으로 높이가 같은 기둥은 없어야 하며, 하이라이트 구간이 나올 수 없는 경우에는 가장 높은 기둥만 남긴다.<br/>


## 입력
첫째 줄에 개조하고자 하는 구간의 길이 N이 주어진다. 구간의 길이는 1,000을 넘지 않는 자연수이다.<br/>
둘째 줄에 구간 내에 있는 각 기둥들의 높이가 주어진다. 기둥의 높이는 10,000 이하의 자연수이다.<br/>


## 출력
하이라이트 구간으로 만들기 위해 최대한으로 남길 수 있는 기둥의 개수를 출력한다.<br/>

## 예제 입력
5<br/>
5 2 3 2 1<br/>

## 예제 출력
4<br/>


## 풀이
하이라이트 내리막 구간은 가장 긴 순감소하는 부분수열을 찾아야 한다.<br/>
오르막 구간은 가장 긴 순증가하는 부분수열을 찾아야 한다.<br/>
그리고 오르막 구간인 오른쪽 부분은 없어도 상관없지만 내리막인 왼쪽 부분은 있어야 한다.<br/>
그리고 가장 긴 감소하는 구간이 최소 2개 이상인 경우면 오른쪽 구간을 더해서 최대값을 찾으면 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/12762