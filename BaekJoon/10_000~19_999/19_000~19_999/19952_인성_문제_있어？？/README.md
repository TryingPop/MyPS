# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 그래프 이론
  - 그래프 탐색
  - 너비 우선 탐색

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 512 MB

## 문제
인성이는 인싸가 되기 위해서 인싸트 특별과정에 참가했다. 훈련 첫날 인성이는 험난한 미로에서 목적지에 도달해야 하는 훈련을 받고 있다. 제한 시간 안에 미로를 통과하지 못하면 명기 교관 님에게 욕을 듣기에 인성이는 최선을 다해 미로를 통과하려고 한다.<br/>
미로는 가로 길이 W, 세로 길이 H의 격자 형태를 가지며, 인성이는 한 번에 격자 상의 상, 하, 좌, 우로 한칸 씩 움직일 수 있다.  매 이동이 완료될 시에 인성이의 남은 힘은 1씩 감소하고, 남은 힘이 0이하인 경우에는 더 이상 움직이지 못하게 된다.<br/>
미로의 각 격자에는 장애물이 있는데, 각각의 장애물은 높이 정보를 가지고 있다. 장애물이 없는 위치는 전부 높이가 0 이다. 인성이가 이동할 때, 현재 위치보다 이동할 위치의 높이가 더 낮으면 아무런 제약을 갖지 않고 이동할 수 있다. 더 높은 곳으로 이동할 때는 점프를 할 수 있는데, 점프해야 하는 높이는 (이동할 곳의 높이 - 현재 위치한 곳의 높이) 이다. 이때 남아있는 힘이 점프해야 하는 높이보다 크거나 같으면 이동할 수 있고, 그렇지 않으면 이동하지 못한다.<br/>
인성이는 신체적 한계를 극복하고 무사히 목적지에 도달해서 명기 교관님의 욕설을 듣지 않을 수 있을까?<br/>


## 입력
첫째 줄에 테스트 케이스 T가 주어진다. 각 테스트 케이스는 다음과 같이 주어진다.<br/>
첫째 줄에 미로의 세로길이 H, 가로길이 W, 장애물의 개수 O, 초기 힘 F, 출발지의 좌표 정보 Xs(행), Ys(열)목적지의 좌표정보 Xe(행), Ye(열) 가 주어진다.<br/>
둘째 줄부터 O개의 줄에 장애물의 좌표 정보 X(행), Y(열) 와 높이 정보 L이 주어진다. 모든 장애물은 서로 다른 위치에 존재한다.<br/>


## 출력
T개의 줄에 인성이가 목적지에 도착할 수 있을 때 "잘했어!!", 목적지에 도착할 수 없을 때 "인성 문제있어??" 를 출력한다.<br/>


## 제한
  - 1 ≤ T ≤ 10
  - 2 ≤ H, W ≤ 100
  - 0 ≤ O ≤ H x W
  - 0 ≤ F ≤ 10,000, F 는 정수이다.
  - 1 ≤ L ≤ 50, L은 정수이다.
  - 1 ≤ X, Xs, Xe ≤ H
  - 1 ≤ Y, Ys, Ye ≤ W
  - 시작 위치와 목적지에는 장애물이 존재하지 않는다.


## 예제 입력
1<br/>
3 3 7 5 1 1 3 3<br/>
1 2 4<br/>
1 3 8<br/>
2 1 1<br/>
2 2 2<br/>
2 3 4<br/>
3 1 8<br/>
3 2 4<br/>


## 예제 출력
잘했어!!<br/>


## 풀이
현재지점 cur에 들어가는 최소힘을 찾아야 한다.<br/>
그러면 현재지점의 인접한 칸을 inter_i라 하자. 여기서 i는 인접한 칸의 방향을 뜻한다.
i = 1이면 동, i = 2면 서, i = 3이면 남, i = 4면 북을 뜻한다.<br/>
그러면 현재지점의 inter_i와 cur의 높이차 + inter_i의 최소 힘의 값을 val_i라 하자.<br/>
그러면 min(val_i)가 된다.<br/>


시작지점에서 출발하여 다른 노드로 이동을 시도하며 힘을 확인하며 이동한다.<br/>
방문 한적이 없는 곳이면 해당 인접한 힘을 넣는다.<br/>
반면 방문한 곳이면 힘이 적어진 경우에 최소 힘을 갱신하고 해당노드를 다시 방문을 시도한다.<br/>


이렇게 더이상 탐사가 안될때까지 진행한다.<br/>
이렇게 진행해서 목적지의 최소힘이 f를 초과하는지로 판별하면 된다.<br/>


위와 같은 조건으로 하면 중복 방문이 빈번해 보인다.<br/>
몇몇 예시를 확인하고 L의 크기가 작아 얼마 없을거라 추론했다.<br/>
만약 L의 제한이 컸다면 다익스트라로 탐색을 진행하는게 좋아 보인다.<br/>


간단하게 재방문 하는 예제를 구현해서 확인했다.<br/>
시작 부분을 Start, 숫자는 해당 노드의 높이라 하자.<br/>
도착지점은 표 부분에 없다고 가정한다.<br/>

|50|50|50|50|50|
|:---:|:---:|:---:|:---:|:---:|
|50|40|1|50|Start|
|50|20|10|0|50|


직접 진행해본 뒤 방문 횟수를 보면 다음과 같다.<br/>

|1|1|1|1|1|
|:---:|:---:|:---:|:---:|:---:|
|2|2|1|1|1|
|2|2|2|1|1|

재방문은 높은 길을 따라 둘러서 오는게 그냥 가는거보다 효율이 좋은 경우 일어남을 알 수 있다.<br/>
그래서 많아야 L개를 넘지 않고, 이동간에 에너지를 소모하기에 해당 경우는 얼마 없을거라 추론했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/19952