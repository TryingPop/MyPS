# C#

## 난이도 : 골드 1

## 알고리즘 분류
  - 자료 구조
  - 그리디 알고리즘
  - 우선순위 큐

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 512 MB

## 문제
농부 존의 소들은 효율적으로 길을 건너는 방법을 터득하고 있다. 그들은 길 건너기의 달인인 닭의 도움을 받기로 했다.<br/>
안타깝게도 닭은 매우 바쁜 동물이라, 소를 도와줄 시간이 별로 없다. 농장에 C마리(1 ≤ C ≤ 20,000)의 닭이 있고, 1번부터 C번까지 번호가 붙어 있다. i번 닭은 정확히 Ti초에만 소를 도와줄 수 있다. 하지만 닭은 길 건너기의 달인이므로 소를 데리고도 순식간에 길을 건널 수 있다. 소는 할 일이 없어서 여유롭게 길을 건널 수 있다. 소는 총 N마리(1 ≤ N ≤ 20,000)가 있고, 마찬가지로 1번부터 N번까지 번호가 붙어 있다. j번 소는 Aj초부터 Bj초까지 길을 건널 수 있다. j번 소가 i번 닭의 도움을 받아 길을 건너려면  Aj ≤ Ti ≤ Bj를 만족해야 한다.<br/>
소는 최대 한 마리의 닭에게만 도움을 받을 수 있고, 닭 역시 최대 한 마리의 소만 도와줄 수 있다. 도움을 받을 수 있는 소가 최대 몇 마리인지 구해보자.<br/>


## 입력
첫 줄에 C와 N이 주어진다. 다음 C줄에는 T1…TC가 주어지고, 그 다음 N줄에는 Aj와 Bj(Aj ≤ Bj)가 주어진다. A, B, T는 모두 최대 1,000,000,000인 음이 아닌 정수이고, 같을 수도 있다.<br/>


## 출력
도움을 받을 수 있는 소가 최대 몇 마리인지 출력한다.<br/>


## 예제 입력
5 4<br/>
7<br/>
8<br/>
6<br/>
2<br/>
9<br/>
2 5<br/>
4 9<br/>
0 3<br/>
8 13<br/>


## 예제 출력
3<br/>


## 풀이
A시간에 소가 최대한 닭을 태운 경우를 보자.<br/>
그러면 A가 닭의 시간 중 최댓값과 같을 때 정답과 일치하게 된다.<br/>


A시간에 소가 최대한 닭을 태운다고 하면,<br/>
먼저 닭을 시간순으로 정렬한다.<br/>
그리고 소를 끝시간으로 오름차순 정렬한 뒤 끝시간이 같다면 시작 시간을 기준으로 오름차순 정렬한다.<br/>
그리고 가능한 소를 먼저 배정하면서 진행하는 것이 A시간에 닭을 최대한 태운 경우와 같게 된다.<br/>


지금 보면 이중 포문으로 풀었다.<br/>
만약 시간을 단축하고 싶다면 우선순위 큐나 두 포인터로 관리하면 빠르게 풀 수 있을 것이다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/14464