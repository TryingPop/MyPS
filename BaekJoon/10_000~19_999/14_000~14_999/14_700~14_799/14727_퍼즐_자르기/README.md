# C#

## 난이도 : 플레티넘 5

## 알고리즘 분류
  - 자료 구조
  - 세그먼트 트리
  - 분할 정복
  - 스택

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 256 MB

## 문제
상렬이에게는 히스토그램 모양의 플라스틱 퍼즐 조각이 많이 있다. 상렬이는 이 퍼즐 조각들이 필요가 없어져 버릴 계획이다. 하지만 갑자기 플라스틱 판이 많이 필요해져 퍼즐에서 직사각형 모양을 잘라내 재활용하려고 한다.<br/>
퍼즐의 모양이 주어질 때 자를 수 있는 가장 큰 직사각형의 넓이를 구하는 프로그램을 작성하라.<br/>
히스토그램의 정보는 히스토그램을 구성하는 직사각형들의 높이로 주어진다. 각 직사각형의 너비는 1로 모두 같다.<br/>


## 입력
히스토그램을 구성하는 직사각형의 개수 N(1 ≤ N ≤ 100,000)이 주어진다. 이어 N개의 줄에 걸쳐 각 직사각형의 높이인 정수 Hi(1 ≤ Hi ≤ 1,000,000)가 주어진다.<br/>


## 출력
잘라낼 수 있는 직사각형의 최대 넓이를 출력하라.<br/>


## 예제 입력
3<br/>
7<br/>
3<br/>
4<br/>


## 예제 출력
9<br/>


## 풀이
히스토그램 모양의 플라스틱들은 순차적으로 일렬로 세워져 있다.<br/>
이제 각 플라스틱에 대해 해당 높이를 유지할 수 있는 최대 사각형의 넓이는 왼쪽으로 해당 값보다 작은 사각형이 나올때까지 확장할 수 있다.<br/>
오른쪽도 마찬가지로 해당 값보다 작은 사각형이 나올때까지 확장할 수 있다.<br/>
이렇게 확장한 사각형의 넓이는 현재 높이를 유지할 수 있는 최대 사각형의 넓이고, 이들의 최댓값이 전체의 최댓값임은 자명하다.<br/>


왼쪽의 경우를 보면 확장할 수 있을 때 내림차순 형태이다.<br/>
오른쪽의 경우는 오름차순 형태일 때 확장할 수 있다.<br/>


왼쪽에서 오른쪽으로 확인할 것이고 현재보다 작은 값들만 남기는 오름차순으로 스택에 저장한다.<br/>
그러면 현재 값보다 큰 스택에 있는 값은 현재의 - 1이 오른쪽 끝이 된다.<br/>
그리고 스택에 오름차순으로 저장했으므로 자신의 이전 항의 위치 + 1이 왼쪽 끝이 된다.<br/>
이렇게 넓이를 찾아간다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/14727