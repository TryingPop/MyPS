# C#

## 난이도 : 플레티넘 5

## 알고리즘 분류
  - 다이나믹 프로그래밍
  - 포함 배제의 원리

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 512 MB

## 문제
팰린드롬(palindrome)이란 앞에서부터 읽으나 뒤에서부터 읽으나 같은 단어를 말한다. 'aba'나 'a'와 같은 단어는 팰린드롬이며, 'abaccbcb'나 'anavolimilana'와 같은 단어는 팰린드롬이 아니다.<br/>
승수는 주어진 문자열의 부분수열 중 팰린드롬이 되는 부분수열의 개수를 알고싶어한다. (공집합은 포함하지 않는다)<br/>
예를들어 'abb' 의 부분수열은 {'a'}, {'b'}, {'b'}, {'ab'}, {'ab'}, {'bb'}, {'abb'} 이고 이 가운데 팰린드롬은 {'a'}, {'b'}, {'b'}, {'bb'} 으로 4개 이다. <br/>
문자열이 주어졌을 때, 팰린드롬이 되는 부분수열의 개수를 출력하는 프로그램을 작성하시오.<br/>


## 입력
첫째 줄에 길이가 1000을 넘지 않는 문자열 S 가 주어진다. 문자열 S는 알파벳 소문자로만 이루어져 있다.<br/>


## 출력
주어진 문자열 S 의 부분수열 중 팰린드롬이 되는 부분수열의 개수를 10,007 로 나눈 나머지를 출력한다.<br/>


## 예제 입력
abb<br/>


## 예제 출력
4<br/>


## 풀이
dp[s][e] = val를 s 인덱스와 e 인덱스 사이의 팰린드롬 갯수 val로 하면 된다.<br/>
그러면 str[s] != str[2]인 경우 dp[s][e] = dp[s + 1][e] + dp[s][e - 1] - dp[s + 1][e - 1]과<br/>
str[s] == str[e]인 경우 dp[s][e] = dp[s + 1][e] + dp[s][e - 1] + 1의 점화식을 얻을 수 있다.<br/>


str[s] != str[e]인 경우 dp[s + 1][e]와 dp[s][e - 1]에는 dp의 정의로 dp[s + 1][e - 1]이<br/>
한 번 더 포함되었음을 자명하게 알 수 있고, 중복을 빼주는 것이다.<br/>


str[s] == str[e]인 경우는 s와 e를 포함한 팰린드롬 경우의 수를 세면 dp[s + 1][e - 1]개가 한 번 더 나오고,<br/>
포함 안되어도 str[s]와 str[e]만 이어붙인 팰린드롬을 세는 것이므로 + 1이 붙는다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/14517