# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 다이나믹 프로그래밍
  - 누적 합

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 512 MB

## 문제
N행 N열로 이루어진 정사각형 행렬 A가 주어진다. 이때, 쿼리를 수행하는 프로그램을 작성하시오.<br/>

  - x1 y1 x2 y2: 왼쪽 윗칸이 (x1, y1)이고, 오른쪽 아랫칸이 (x2, y2)인 부분 행렬에 포함되어 있는 서로 다른 정수의 개수를 출력한다.


## 입력
첫째 줄에 N (1 ≤ N ≤ 300)이 주어진다. 다음 N개의 줄에는 행렬의 정보가 주어지며, 각 줄은 N개의 수로 이루어져 있다. 행은 위에서부터 아래로, 열은 왼쪽부터 오른쪽으로 번호가 매겨져 있으며, 번호는 1번부터 시작한다. 행렬이 포함하고 있는 정수는 10보다 작거나 같은 자연수이다.<br/>
다음 줄에는 Q (1 ≤ Q ≤ 100,000)가 주어진다. 다음 Q개의 줄에는 쿼리의 정보 x1, y1, x2, y2가 주어진다. (1 ≤ x1 ≤ x2 ≤ n, 1 ≤ y1 ≤ y2 ≤ n)<br/>


## 출력
각각의 쿼리마다 정답을 한 줄에 하나씩 출력한다.<br/>


## 예제 입력
3<br/>
1 2 3<br/>
3 2 1<br/>
5 6 3<br/>
3<br/>
1 1 2 3<br/>
2 2 2 2<br/>
1 1 3 3<br/>


## 예제 출력
3<br/>
1<br/>
5<br/>


## 풀이
사각형의 크기가 300 x 300 = 90,000이다.<br/>
그리고 주어지는 값의 범위가 10 이하인 자연수이므로 많아야 10개이다.<br/>
그래서 둘을 곱해도 900,000이고 각 수에 대해 누적합 dp를 할당할만하다 생각했다.<br/>
그래서 dp[i][j][k] = val를 사각형의 (1, 1) 좌표에서 (j, k)좌표까지 i가 등장한 횟수를 val가되게 담는다.<br/>
그러면 왼쪽 위가 (r1, c1)이고 오른쪽 아래가 (r2, c2)일 때 i가 등장한 횟수는 dp[i][r2][c2] - dp[i][r1 - 1][c2] - dp[i][r2][c1 - 1] + dp[i][r1 - 1][c1 - 1]이 된다.<br/>
이렇게 등장한게 있는 경우 1로 카운팅하고 1 ~ 10을 조사했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/14846