# C#

## 난이도 : 골드 1

## 알고리즘 분류
  - 그리디 알고리즘
  - 정렬
  - 누적 합

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 256 MB

## 문제
승원이는 미술품 N개를 가지고 있다. 각각의 미술품은 1번부터 N번까지 번호가 매겨져 있다. i번 미술품의 크기는 Ai, 가치는 Bi로 나타낸다.<br/>
오늘은 승원이의 저택 1층에서 미술품을 전시하려고 한다. 승원이는 아래 조건을 만족하는 미술품을 골라서 전시하려고 한다.<br/>

  - 전시할 미술품 중에서 가장 큰 크기를 Amax, 가장 작은 크기를 Amin 이라고 한다. 전시할 미술품의 가치의 합을 S라고 한다.
  - 이때, S − (Amax − Amin) 가 가장 커야 한다.

승원이가 가지고 있는 미술품 N개의 크기와 가치가 주어졌을 때, S − (Amax − Amin) 의 최댓값을 구하는 프로그램을 작성하시오.<br/>


## 입력
첫째 줄에 승원이가 가지고 있는 미술품의 개수 N (2 ≤ N ≤ 500,000)이 주어진다.<br/>
둘째 줄부터 N개의 줄에 미술품의 크기 Ai와 가치 Bi가 1번 미술품 부터 순서대로 주어진다. (1 ≤ Ai ≤ 1,000,000,000,000,000 = 10^15, 1 ≤ Bi ≤ 1,000,000,000)<br/>


## 출력
첫째 줄에  S − (Amax − Amin) 의 최댓값을 출력한다.<br/>


## 예제 입력
3<br/>
2 3<br/>
11 2<br/>
4 5<br/>

## 예제 출력
6<br/>

## 힌트
예제의 경우에 승원이는 3개의 미술품을 가지고 있고, 크기와 가치는 다음과 같다.<br/>

  - 1번 미술품의 크기는 2, 가치는 3.
  - 2번 미술품의 크기는 11, 가치는 2.
  - 3번 미술품의 크기는 4, 가치는 5.

이때는, 1번과 3번을 전시하면 S − (Amax − Amin) = 6가 되고, 가장 큰 값이다.<br/>

  - 크기가 가장 큰 미술품은 3번이다. 따라서, Amax = 4.
  - 크기가 가장 작은 미술품은 1번이다. 따라서, Amin = 2.
  - 전시할 미술품 가치의 합은 3 + 5 = 8 이다.

따라서, S = 8 이고,  S − (Amax − Amin) 는 6이다.<br/>


## 풀이
Amin에서 Amax 사이에 있는 전시품을 넣으면 S의 값이 올라가고 Amax - Amin은 일정하므로 전체 점수는 올라간다.<br/>
그래서 Amin에서 Amax에 있는 전시품을 최대한 넣는다.<br/>
이에 A를 기준으로 정렬한 뒤 누적 합을 이용하면 S를 최대한 누적할 수 있다.<br/>


정렬한 A의 값을 A', 누적 합은 B'라 하자.<br/>
그러면 i번을 B'(i), A'(i)로 나타내자.<br/>
i번이 최소인 경우 빼는 값은 B'(i - 1) - A'(i)이다.<br/>
그래서 각 k에 대해 i ≤ k인 B'(i - 1) - A'(i)의 최솟값을 찾고 B'(k) - A'(k) - B'(i - 1) + A'(k)의 값을 찾는다.<br/>
이후 찾은 값들의 최댓값을 정답으로 제출하면 된다.<br/>
i ≤ k인 B'(i - 1) - A'(i)의 최솟값은 이전 최솟값에서 현재 값을 비교해 찾으면 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/15554