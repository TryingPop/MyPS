# C#

## 난이도 : 골드 2

## 알고리즘 분류
  - 자료 구조
  - 정렬
  - 스위핑
  - 우선순위 큐

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 512 MB

## 문제
집과 사무실을 통근하는 n명의 사람들이 있다. 각 사람의 집과 사무실은 수평선 상에 있는 서로 다른 점에 위치하고 있다. 임의의 두 사람 A, B에 대하여, A의 집 혹은 사무실의 위치가 B의 집 혹은 사무실의 위치와 같을 수 있다. 통근을 하는 사람들의 편의를 위하여 일직선 상의 어떤 두 점을 잇는 철로를 건설하여, 기차를 운행하려고 한다. 제한된 예산 때문에, 철로의 길이는 d로 정해져 있다. 집과 사무실의 위치 모두 철로 선분에 포함되는 사람들의 수가 최대가 되도록, 철로 선분을 정하고자 한다.<br/>
양의 정수 d와 n 개의 정수쌍, (hi, oi), 1 ≤ i ≤ n,이 주어져 있다. 여기서 hi와 oi는 사람 i의 집과 사무실의 위치이다. 길이 d의 모든 선분 L에 대하여, 집과 사무실의 위치가 모두 L에 포함되는 사람들의 최대 수를 구하는 프로그램을 작성하시오.<br/>
그림 1 에 있는 예를 고려해보자. 여기서 n = 8, (h1, o1) = (5, 40), (h2, o2) = (35, 25), (h3, o3) = (10, 20), (h4, o4) = (10, 25), (h5, o5) = (30, 50), (h6, o6) = (50, 60), (h7, o7) = (30, 25), (h8, o8) = (80, 100)이고, d = 30이다. 이 예에서, 위치 10 과 40 사이의 빨간색 선분 L이, 가장 많은 사람들에 대하여 집과 사무실 위치 모두 포함되는 선분 중 하나이다. 따라서 답은 4 이다.<br/>


## 입력
입력은 표준입력을 사용한다. 첫 번째 줄에 사람 수를 나타내는 양의 정수 n (1 ≤ n ≤ 100,000)이 주어진다. 다음 n개의 각 줄에 정수 쌍 (hi, oi)가 주어진다. 여기서 hi와 oi는 −100,000,000이상, 100,000,000이하의 서로 다른 정수이다. 마지막 줄에, 철로의 길이를 나타내는 정수 d (1 ≤ d ≤ 200,000,000)가 주어진다.<br/>


## 출력
출력은 표준출력을 사용한다. 길이 d의 임의의 선분에 대하여, 집과 사무실 위치가 모두 그 선분에 포함되는 사람들의 최대 수를 한 줄에 출력한다.<br/>


## 예제 입력
5<br/>
-5 5<br/>
30 40<br/>
-5 5<br/>
50 40<br/>
5 -5<br/>
10<br/>


## 예제 출력
3<br/>


## 풀이
길이 d인 철로를 설치 했을 때 가장 많이 포함할 때의 포함한 선분의 개수를 찾아야 한다.<br/>
먼저 선분을 시작이 끝 지점보다 작게 변경하고 끝지점으로 정렬한다.<br/>
그리고 끝지점 e를 하나씩 확인하며 시작지점을 s라하면 e - s <= d인 간선을 pq에 넣는다.<br/>
pq는 시작지점을 기준으로 오름차순이 되게 한다.<br/>
그러면 pq의 크기는 끝이 e일때 겹친 간선의 개수가 된다.<br/>
이렇게 e를 하나씩 올려가며 가장 큰 pq의 크기를 찾으면 정답이 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/13334