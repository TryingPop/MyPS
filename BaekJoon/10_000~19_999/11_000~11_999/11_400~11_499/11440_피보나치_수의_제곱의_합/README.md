# C#

## 난이도 : 플레티넘 5

## 알고리즘 분류
  - 수학
  - 분할 정복을 이용한 거듭제곱

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 256 MB

## 문제
피보나치 수는 0과 1로 시작한다. 0번째 피보나치 수는 0이고, 1번째 피보나치 수는 1이다. 그 다음 2번째 부터는 바로 앞 두 피보나치 수의 합이 된다.<br/>
이를 식으로 써보면 Fn = Fn-1 + Fn-2 (n ≥ 2)가 된다.<br/>
n=17일때 까지 피보나치 수를 써보면 다음과 같다.<br/>
0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597<br/>
n이 주어졌을 때, 0번째 피보나치 수의 제곱부터 n번째 피보나치 수의 제곱을 합한 값을 구하는 프로그램을 작성하시오.<br/>


## 입력
첫째 줄에 n이 주어진다. n은 1,000,000,000,000,000,000보다 작거나 같은 자연수이다.<br/>


## 출력
첫째 줄에 0번째 피보나치 수의 제곱부터 n번째 피보나치 수의 제곱의 합을 1,000,000,007으로 나눈 나머지를 출력한다.<br/>


## 예제 입력
10<br/>


## 예제 출력
4895<br/>


## 풀이
먼저 귀납적으로 식을 추론했다.<br/>
즉, 피보나치 수의 제곱합을 보면 다음과 같다.<br/>

|항|0|1|2|3|4|5|6|...|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|피보나치 수|0|1|1|2|3|5|8|...|
|피보나치 제곱의 합|0|1|2|6|15|40|104|...|
|규칙|0 = 0 x 1|1 = 1 x 1|2 = 1 x 2|6 = 2 x 3|15 = 3 x 5|40 = 5 x 8|104 = 8 x 13|...|


그러면 0번항부터 i번 항까지 피보나치 수의 제곱합을 Si라 하고, i번째 피보나치 수를 Fi라 하자.<br/>
Si = Fi x F(i+1)임을 추론할 수 있다.<br/>


이제 성립함은 수학적 귀납법을 이용하면 된다.<br/>
i = 0인경우 자명하다.<br/>
이제 k에 대해 성립한다고 가정하자.<br/>
Sk = Fk x F(k + 1)이다.<br/>
S(k+1) = Sk + (F(k+1))^2 = Fk x F(k + 1) + (F(k+1))^2 = (Fk + F(k+1)) x F(k+1)<br/>
피보나치 수의 정의로 F(k+1) + Fk = F(k+2)이다.
= F(k+1) x F(k+2) = S(k+1)<br/>
이므로 해당 식을 성립함을 알 수 있다.<br/>
그래서 수학적 귀납법으로 Sk = Fk x F(k + 1) 식이 성립한다.<br/>


이후 피보나치 수를 찾는건 행렬식을 이용하면 되고 이는 행렬식에 분할 정복을 이용한 거듭제곱으로 찾으면 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/11440