# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 그리디 알고리즘
  - 정렬
  - 누적 합

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 512 MB

## 문제
조별 과제를 위해서 수강생 N명의 사람의 조를 편성하려고 한다. 모든 사람은 정확히 한 개의 조에 속해야 한다. 원래 한 조는 2명으로 이루어져야 하지만, N이 홀수이기 때문에 단 하나의 조는 3명으로 이루어진다. 다른 (N - 3) / 2개의 조는 2명으로 이루어진다.<br/>
성공적인 조별 과제를 위해서는 화기애애한 분위기가 중요하다. 각 학생에게는 고유한 학번이 있으며, 어떤 조의 어색함은 해당 조에 속한 사람의 학번 중 최댓값과 최솟값의 차이로 계산된다.<br/>
조를 적절히 편성해서, 편성된 모든 조의 어색함의 합을 최소화하자.<br/>


## 입력
첫 번째 줄에 수강생의 수 N이 주어진다.(3 ≤ N < 500,000; N은 홀수)<br/>
두 번째 줄에 각 학생의 학번을 의미하는 N개의 정수 A_1, A_2, ..., A_N이 공백으로 구분되어 주어진다.(1 ≤ A_i ≤ 10^9) 주어지는 A_i는 서로 다르다.<br/>


## 출력
조를 적절히 편성해서, 편성된 모든 조의 어색함의 합의 최솟값을 출력하여라.<br/>


## 예제 입력
5<br/>
3 1 4 5 9<br/>


## 예제 출력
7<br/>


## 힌트
학번이 3, 1인 사람을 한 조로 묶고, 4, 5, 9인 사람을 한 조로 묶으면 각 조의 어색함은 (3-1) = 2와 (9-4) = 5이고, 합은 7이다.<br/>
이 방법이 각 조의 어색함의 합을 최소로 하는 방법이다.<br/>


## 풀이
a ≤ b ≤ c ≤ d 에 대해 b - a ≤ (c - b) + (b - a) = c - a 와 d - c + b - a ≤ d - b + c - a 성립한다.<br/>
그래서 학번을 기준으로 정렬한 뒤 인접한 사람끼리 조를 짜는게 좋다.<br/>


이렇게 작은 값으로 인접한 2명씩 조를 짜는데 어색함을 짝수 인덱스에 기록한다. 여기서 작은 인덱스의 사람을 포함한 조의 어색함을 저장한다.<br/>
그리고 큰값으로 2명씩 조를 짜며 어색함을 홀수 인덱스에 기록한다. 여기서 홀수 인덱스는 조에 있는 인원 중 작은 사람의 조의 어색함이다.<br/>

이후 짝수 인덱스에 대해서 누적합으로 오름차순으로 저장한다.<br/>
즉 idx가 2인 경우 0, 1과 조를 2, 3이 조를 이뤘는데 이 두 조의 어색함의 합이 담기게 한다.<br/>
여기서 0, 1, 2, 3은 학번을 기준으로 정렬한 뒤의 인덱스를 나타낸다.<br/>


반대로 홀수는 내림차순으로 어색함의 합을 저장한다.<br/>
전체가 5이고, idx = 1인 경우 3, 4가 조를 이루고, 1, 2가 조를 이루는 경우의 어색함 합을 저장한다.<br/>


이후 두 포인터를 이용해 3명씩 조를 이뤄가면서 이전 값을 확인하며 앞의 결과를 이용해 최대 어색함이 최소가 되는 값을 찾는다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/30960