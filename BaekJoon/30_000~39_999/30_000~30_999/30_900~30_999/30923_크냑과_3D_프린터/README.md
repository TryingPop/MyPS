# C#

## 난이도 : 실버 5

## 알고리즘 분류
  - 수학
  - 기하학

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
어느 날, 크냑은 지인으로부터 3D 프린터를 선물 받았다. 평소에 3D 프린터에 대해 관심이 많았던 크냑은 들떴으나, 도대체 이걸로 무엇을 만들어야 할지 감을 잡을 수 없었다. 그래서 일단 눈에 들어온 히스토그램을 3D 프린터를 이용해 출력해 보기로 했다.<br/>
히스토그램은 너비가 1로 동일한 막대 N개가 빈틈없이 일렬로 붙어있는 형태이다. 크냑은 이를 너비와 폭이 1이고, 높이가 h_i인 N개의 직육면체로 이루어진 3D 모형으로 출력할 것이다.<br/>
돈이 없는 크냑은 극한의 절약을 위해 모형의 속은 비우고, 정확히 겉넓이만큼의 재료만 사용하고자 한다. 히스토그램의 정보가 주어졌을 때, 3D 모형의 겉넓이를 구해보자.<br/>


## 입력
첫째 줄에 히스토그램을 이루는 막대의 개수를 의미하는 정수 N이 주어진다. (1 ≤ N ≤ 32,768)<br/>
둘째 줄에 각 막대의 높이를 의미하는 정수 h_1, h_2, ..., h_N이 공백으로 구분되어 주어진다. (1 ≤ h_i ≤ 32,768)<br/>


## 출력
3D 히스토그램 모형의 겉넓이를 출력한다.<br/>


## 예제 입력
3<br/>
3 1 2<br/>


## 예제 출력
26<br/>


## 풀이
겉넓이 중 겹치는 부분에 초점을 맞춘다.<br/>
그러면 전체 겉넓이 중 높이가 크지 않은 쪽의 2배의 면적이 가려짐을 알 수 있다.<br/>
그래서 전체 겉넓이를 더하고 겹치는 부분을 빼서 전체 겉넓이를 찾으면 된다.<br/>


최악의 경우 32_768 = 2^15승 높이를 가진 막대가 2^15개 들어오면 int 범위를 벗어날 수 있다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/30923