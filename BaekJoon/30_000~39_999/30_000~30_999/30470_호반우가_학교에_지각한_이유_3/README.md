# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 구현
  - 자료 구조
  - 시뮬레이션
  - 스택

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
우여곡절 끝에 시작의 마을 앞까지 도착한 호반우지만 절벽 위의 마을로 향하는 계단이 마물들의 습격으로 망가져 통나무로 계단을 만들기로 하였다. 호반우는 통나무를 세로로 나란히 세워 계단을 만드는데, 중간중간 마물들이 마법을 사용해 방해하고 있다!<br/>
마물들이 위력이 m인 마법을 사용하면, 현재 계단을 구성하는 통나무 중 가장 긴 통나무의 길이 k를 기준으로 길이가 max(k - m, 0) 이상인 통나무들의 길이를 max(k - m, 0)으로 만들어 버린다. 만약 통나무가 없다면 마법은 무시한다.<br/>
호반우와 마물들의 행동을 나타내는 N개의 쿼리가 다음과 같이 주어진다.<br/>

  - 1 x: 호반우가 길이 x의 통나무를 계단 옆에 나란히 세운다.
  - 2 x: 마물들이 계단에 위력 x의 마법을 사용한다.

호반우는 계단을 만들고 싶기에 호반우가 새로 세우는 통나무는 항상 이전에 1번 쿼리로 세운 통나무의 길이보다 길며, 마물들은 통나무가 없어도 마법을 사용할 때가 있다. 호반우가 처음으로 세우는 통나무는 따로 길이의 제한이 없다.<br/>
N개의 쿼리를 순서대로 전부 수행한 이후 완성된 계단을 구성하는 모든 통나무의 길이의 합을 구해보자.<br/>


## 입력
첫 번째 줄에 쿼리의 개수 N이 주어진다. (1 ≤ N ≤ 500,000)<br/>
두 번째 줄부터 N개의 줄에 걸쳐 양의 정수 쌍 a, b가 공백을 두고 주어진다. (a ∈ \{1, 2\}, 1 ≤ b ≤ 10^9)<br/>
a가 1이면 호반우가 길이 b의 통나무를 계단 옆에 세운 것이고 새로 세우는 통나무는 항상 이전에 1번 쿼리로 세운 통나무의 길이보다 길다.<br/>
a가 2이면 마물들이 계단에 위력 b의 마법을 사용한 것이며 계단을 구성하는 통나무가 없는 상태에서도 2번 쿼리가 입력될 수 있다.<br/>


## 출력
N개의 쿼리를 순서대로 전부 수행한 이후 완성된 계단을 구성하는 모든 통나무의 길이의 합을 출력한다.<br/>


## 예제 입력
3<br/>
1 2<br/>
2 1<br/>
1 4<br/>

## 예제 출력
5<br/>


## 풀이
가장 긴 통나무를 찾아줘야 하는데 이는 우선순위 큐를 이용해 관리했다.<br/>
그리고 2번 마법이 들어오면 max(k - m, 0) 이상인 통나무들을 일괄적으로 max(k - m, 0)으로 만든다.<br/>
통나무가 10만개 들어오고 40만번 자르는 쿼리를 한다면 10만 x 40만으로 시간초과날거 같았다.<br/>
그래서 통나무 갯수를 관리하는 값을 우선순위 큐에 함께 관리했다.<br/>
그러면 같이 잘린 나무들은 1개 묶음으로 볼 수 있어 시간초과 나지 않는다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/30470