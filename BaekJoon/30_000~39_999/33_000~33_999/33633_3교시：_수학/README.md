# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 수학
  - 자료 구조
  - 그래프 이론
  - 그래프 탐색
  - 너비 우선 탐색
  - 해시를 사용한 집합과 맵

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
짐비는 수학 시간에 우박수열에 대해 배운 뒤, 길이가 N인 우박수열 A_1, A_2, A_3, ..., A_N을 만들려고 합니다.<br/>
우박수열은 다음 조건을 만족하는 수열 A를 의미합니다:<br/>


  - 1 ≤ i < N인 양의 정수 i에 대하여, A_i가 짝수라면 A_{i+1}=A_i / 2, 홀수라면 A_{i+1}=3A_i+1입니다.
  - A_N = 1입니다. 또한, 1 ≤ i < N이면 A_i ≠ 1입니다.


N이 주어질 때 가능한 길이가 N인 우박수열의 개수를 구하고, 가능한 우박수열의 첫 번째 원소 A_1을 오름차순으로 출력해 주세요.<br/>


## 입력
첫 번째 줄에 우박수열의 길이를 나타내는 정수 N이 주어집니다. (1 ≤ N ≤ 55)<br/>


## 출력
첫 번째 줄에 길이가 N인 서로 다른 우박수열의 개수 k를 출력해 주세요.<br/>
두 번째 줄부터 k개의 줄에 걸쳐, 길이가 N인 우박수열의 첫 번째 원소 A_1을 한 줄에 하나씩, 오름차순으로 출력해 주세요.<br/>


## 예제 입력
8<br/>


## 예제 출력
4<br/>
3<br/>
20<br/>
21<br/>
128<br/>


## 풀이
우박수 문제 = 3n + 1 문제 = 콜라츠 추측과 관련된 문제다..<br/>
덧셈과 곱셈 연산이 잘 정의되어 각 a에 대해 a에서 b로 가는 연산결과는 유일하다.<br/>
그래서 각 수 a에 대해 우박 수열의 길이는 유일하다.<br/>
그래서 역 연산으로 우박수열의 길이를 찾아가도 된다.<br/>


그래서 우박수의 길이가 i + 1인 숫자는 길이 i에서 역방향으로 길이를 1 늘려가며 찾았다.<br/>
먼저 길이 i의 숫자 a에서 2배를 한 숫자 a * 2는 길이 i + 1이 된다.<br/>
이후 길이 i인 숫자 a에대해 3b + 1인 1이 아닌 홀수 b가 존재하는지 확인한다. 존재하면 길이 i + 1가 된다.<br/>


그래서 배열을 이용해 길이 i인 숫자들을 모두 관리한다.<br/>
앞과 같은 이유로 i + 1인 숫자들을 찾아가며 배열에 모아 놓는다.<br/>
이렇게 길이가 n이될 때까지 모아뒀다.<br/>


전처리 연산으로 55인 경우 long 범위 안에 모두 포함됨을 확인하고 각 길이의 배열 크기는 70만을 넘지 않음을 확인했다.<br/>
이렇게 길이 n인 수를 모두 배열에 찾고 마지막에 출력 조건대로 정렬해서 출력했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/33633