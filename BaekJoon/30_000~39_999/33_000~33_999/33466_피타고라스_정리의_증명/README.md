# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 수학
  - 정수론

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
피타고라스 정리는 다음과 같다.<br/>
직각삼각형의 빗변의 길이가 c, 나머지 두 변의 길이가 각각 a, b라 할 때, a^2+b^2=c^2을 만족한다.<br/>
피타고라스 정리의 증명은 따로 책이 있을 정도로 다양한 방법이 있다. 현민이는 이 증명법 중 근본은 피타고라스가 했다고 알려진 아래 방법이라고 주장한다.<br/>
옆에서 이를 듣던 민재는 피타고라스에 푹 빠진 현민이를 구출하기 위해 다음과 같이 물어봤다.
“위 그림에서 a, b가 N 이하의 양의 정수이면서, 노란색 정사각형의 넓이가 파란색 삼각형 하나 넓이의 정수배가 되려면 어떤 조건을 만족해야 해?”<br/>
현민이를 도와 답을 찾아 피타고라스로부터 구출해 주자.<br/>


## 입력
첫 번째 줄에 테스트 케이스의 개수 T(1 ≤ T ≤ 10^6)가 주어진다.<br/>
두 번째 줄부터 T줄에 걸쳐 각 테스트 케이스 별 N(1 ≤ N ≤ 10^18)이 한 줄에 한 개씩 주어진다.<br/>


## 출력
첫 번째 줄부터 T줄에 걸쳐 각 테스트 케이스 별로 조건을 만족하는 순서쌍 (a, b)의 개수를 한 줄에 한 개씩 출력한다.<br/>


## 예제 입력
4<br/>
1<br/>
2<br/>
3<br/>
4<br/>


## 예제 출력
1<br/>
4<br/>
5<br/>
8<br/>


## 힌트
첫 번째 테스트 케이스의 경우 가능한 순서쌍은 (1, 1)이다.<br/>
두 번째 테스트 케이스의 경우 가능한 순서쌍은 (1, 1), (1, 2), (2, 1), (2, 2)이다.<br/>
세 번째 테스트 케이스의 경우 가능한 순서쌍은 (1, 1), (1, 2), (2, 1), (2, 2), (3, 3)이다.<br/>


## 풀이
노란색 정사각형의 넓이는 a^2 + b^2이고 파란색 하나의 삼각형의 넓이는 (a * b) / 2이다.<br/>
식을 풀면 다음을 얻는다.<br/>


(a^2 + b^2) / ((a * b) / 2) = 2 * (a / b + b / a)<br/>
그래서 노란색 사각형의 넓이가 파란색 삼각형의 넓이의 배수라는 말은 a / b + b / a가 정수이거나 기약분수로 나타냈을 때 분모가 2인 경우와 동치임을 알 수 있다.<br/>


그래서 먼저 a = b인 경우 a / b + b / a = 2이므로 정수고, a = 2b이거나 b = 2a인 경우 a / b + b / a = 5 / 2이므로 위 조건을 만족한다.<br/>
그래서 각 n에 대해 n이 홀수이면 최소 2n - 1개, n이 짝수이면 최소 2n개가 존재한다.<br/>


위 이외의 경우에 대해 해가 존재하지 않음을 보이면 n이 홀수이면 2n - 1, n이 짝수이면 2n이 정답이 된다.<br/>


이는 이차 방정식을 풀어보일 수 있다.<br/>
2 * (a^2 + b^2) / ab = k라 하자.<br/>
k는 자연수이다.<br/>



2a^2 + 2b^2 - kab = 0을 얻고 판별식으로 접근하면 a = (kb ± b√(k^2 - 16)) / 4이다.<br/>
여기서 a, b, k는 자연수이므로 √(k^2 - 16)가 유리수여야 한다.<br/>
가능한 k는 k^2 = 16이거나 25뿐이다.<br/>
그리고 해당 k를 대입하면 a = b, a = 2b, b = 2a를 얻을 수 있다.<br/>


이렇게 n이 홀수이면 2n - 1, n이 짝수이면 2n이 정답이 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/33466