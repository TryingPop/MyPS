# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 그리디 알고리즘

## 제한조건
  - 시간 제한 : 0.7초
  - 메모리 제한 : 1024 MB

## 문제
길이가 N인 수열 A가 주어질 때, N 이하의 양의 정수 k에 대하여 길이가 N-k+1인 수열 B를 다음과 같이 정의하자.<br/>
B_i=max_{i ≤ j ≤ i+k-1}A_j<br/>
수열 B가 감소하지 않도록 하는 k의 최솟값을 구해보자.<br/>
예를 들어 A=\{ 3, 1, 4, 2, 5 \}이고 k=2라면, B = {3, 4, 4, 5 \}이므로 감소하지 않지만, k = 1이라면 B = \{3, 1, 4, 2, 5 \}이므로 감소하는 부분이 존재한다. 이 경우 k의 최솟값은 2이다.<br/>


## 입력
첫째 줄에 수열 A의 길이 N이 주어진다. (1 ≤ N ≤ 10^6)<br/>
둘째 줄에는 A_1, ..., A_N이 공백으로 구분되어 주어진다. (1 ≤ A_i ≤ 10^9)<br/>
입력으로 주어지는 모든 수는 정수이다.<br/>


## 출력
문제의 조건을 만족하는 N 이하의 양의 정수 k 중 최솟값을 출력하라.<br/>


## 예제 입력
5<br/>
3 1 4 2 5<br/>


## 예제 출력
2<br/>


## 풀이
길이 k에서 만족한다면 max_{i ≤ j ≤ i+k-1}A_j ≤ max_{i ≤ j ≤ i+k}A_j 이므로 k + 1에서 만족한다.<br/>
그래서 매개 변수 탐색 알고리즘을 적용할 수 있다.<br/>


이에 길이 k를 매개 변수 탐색으로 설정하고, 최솟값을 우선순위 큐로 관리하며 제출했다.<br/>
그러니 O(N log N log N)이고 시간초과로 틀렸다.<br/>


길이 k에서 이전 최댓값이 길이 k인 현재 최댓값보다 작은 경우 길이의 증가가 필요함을 알게되었다.<br/>
그래서 우선순위 큐로 길이 k인 최댓값을 관리했다.<br/>
다음으로 이전항으로 빠진 것을 표현하는 또 다른 우선순위큐를 둬서 빼는 것을 관리한다.<br/>
이렇게 진행하는데 가장 큰 길이가 정답이 된다.<br/>
만약 마지막에 내림차순이라 확인하지 못하는 경우면, 해당항 이전에 끝내야 하므로 이전항에서 마지막항 길이를 더해주면 된다.<br/>
혹은 마지막에 가질 수 없는 큰 값을 넣어주면 된다.<br/>


이렇게 우선순위 큐로 코드를 작성하는데, 해당 코드를 보니 초항에서부터 크거나 같은 다음 항값에 대해 길이 차이 중 최대가 정답이 됨을 발견했다.<br/>
그래서 해당방법으로 제출했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/31235