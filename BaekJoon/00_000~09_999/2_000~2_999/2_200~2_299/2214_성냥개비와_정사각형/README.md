# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 구현
  - 문자열
  - 브루트포스 알고리즘
  - 파싱

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 128 MB

## 문제
테이블 위에 놓인 성냥개비를 생각해 보시오.<br/>
문제는 성냥개비들로 이루어지는 정사각형의 개수를 구하는 것이다.<br/>


## 입력
입력은 여러 개의 배열로 이루어진다. 각 배열의 첫 번째 줄에는 열과 행의 수를 나타내는 두 개의 정수 r 과 c(1 ≤ r, c ≤ 20)가 주어진다. 그 뒤로는 성냥개비의 배열 상태를 나타내는 2r+1개의 줄이 주어진다. 배열을 나타내는 줄의 홀수 번째 줄은 c개의 문자로 이루어지며, 각각의 문자는 가로 방향으로 놓인 성냥개비를 나타내는 하이픈('–')과 빈 공간을 나타내는 별표('*') 둘 중 하나이다. 배열을 나타내는 짝수 번째 줄은 c+1개의 문자로 이루어지며, 각각의 문자는 세로 방향으로 놓인 성냥개비를 나타내는 막대('|')와 빈 공간을 나타내는 별표('*') 둘 중 하나이다. 0 0이 입력되면 입력이 종료된다.<br/>


## 출력
출력은 각 줄에 각 배열에서 이루어질 수 있는 정사각형의 수 뒤에 한 칸을 띄고 영어 단어 'squares'를 붙여 'X squares'와 같은 형식으로 출력해야 한다.<br/>


## 예제 입력
2 3<br/>
\-\-\*<br/>
\|\|\|\*<br/>
\*-\*<br/>
\|\*\|\|<br/>
\-\-\-<br/>
2 2<br/>
\-\-<br/>
\|\|\|<br/>
\-\-<br/>
\|\|\|<br/>
\-\-<br/>
0 0<br/>


## 예제 출력
2 squares<br/>
5 squares<br/>


## 풀이
행과 열의 크기가 20을 넘지 않으므로, 만들 수 있는 정사각형의 최대 크기도 20을 넘지 않는다.<br/>
이에 따라 각 좌표에서 가능한 정사각형 크기를 전부 확인하는 브루트포스 방식도 충분히 유효하다.<br/>
최악의 경우는 4 × 20^4 = 약 64만으로 계산되며, 충분히 감당 가능한 연산량이다.<br/>


입력되는 성냥개비 위치는 가로 상태, 세로 상태 번갈아가며 입력되고 마지막 줄 입력으로 끝난다.<br/>
배열에 상태를 저장할 시 가로, 세로 번갈아가며 저장한다.<br/>


그리고 세로 역시 세로에 넣는칸 , 가로에 넣는칸 형태로 저장했다.<br/>
만약 가로 줄인 경우 가로에 넣는 칸은 배열의 홀수 인덱스에 대해서 순차적으로 넣었다.<br/>
세로 줄인 경우는 세로에 넣는 칸은 배열의 짝수 인덱스에 대해서 순차적으로 넣었다.<br/>
여기서 배열의 시작 인덱스는 0이다.<br/>


그래서 짝수 행에 대해서 값이 있는 곳은 열이 1, 3, 5, 7, ... 에 가로 변의 상태를 저장한다.<br/>
반면 홀수 행인 경우 값이 있는 곳은 열이 0, 2, 4, 6, ...에 세로 변의 상태를 저장한다.<br/>


2 x 3 크기인 예제 1을 입력받는다고 하면 다음과 같이 저장한다.<br/>

||0|1|2|3|4|5|6|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|0||-||-||\*||
|1|\|||\|||\|||\*|
|2||\*||-||\*||
|3|\|||\*||\|||\||
|4||-||-||-||


그러면 각 사각형의 꼭지점이 있는 위치는 가로 줄의 빈 공간이다.<br/>
예제 부분에 꼭짓점이 있는 부분 🟢을 보면 아래와 같다.<br/>


||0|1|2|3|4|5|6|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|0|🟢|-|🟢|-|🟢|\*|🟢|
|1|\|||\|||\|||\*|
|2|🟢|\*|🟢|-|🟢|\*|🟢|
|3|\|||\*||\|||\||
|4|🟢|-|🟢|-|🟢|-|🟢|


이제 꼭지점 지점에 대해 길이 i인 사각형이 가능한지 찾아줬다.<br/>
이는 테두리 부분에 \*가 있는지 없는지로 판별된다.<br/>


위 예제에서 행이 0이고 열이 2인 꼭짓점에 대해 길이 2인 정사각형을 확인하는 테두리를 빨간색 원 🟠으로 표현하면 다음과 같다.<br/>
해당 경우 0행 5열에 \*가 있으므로 정사각형이 될 수 없다.<br/>


||0|1|2|3|4|5|6|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|0|🟢|-|🟢|🟠|🟢|🟠|🟢|
|1|\|||🟠||\|||🟠|
|2|🟢|\*|🟢|-|🟢|\*|🟢|
|3|\|||🟠||\|||🟠|
|4|🟢|-|🟢|🟠|🟢|🟠|🟢|



이렇게 각 케이스에 대해 모두 조사해 정사각형의 갯수를 세어 제출했다.<br/>


시간 복잡도는 다음과 같다.<br/>
우선 조사 대상인 꼭짓점의 개수는 (row × col)이다.<br/>
각 꼭짓점에서 가능한 정사각형 크기 l을 1 ~ min(row, col)까지 모두 시도하며, 각 정사각형을 확인할 때는 테두리 4변의 길이만큼 확인해야 하므로 `4 × l`의 시간이 소요된다.<br/>
이는 결국 꼭짓점 하나당 O(4 × min(row, col)^2)이 걸린다.<br/>
전체 시간 복잡도는 다음과 같이 계산된다 O(4 x row x col x min(row, col)^2)<br/>


## 문제 링크
https://www.acmicpc.net/problem/2214