# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 백트래킹

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 128 MB

## 문제
숫자 1, 2, 3으로만 이루어지는 수열이 있다. 임의의 길이의 인접한 두 개의 부분 수열이 동일한 것이 있으면, 그 수열을 나쁜 수열이라고 부른다. 그렇지 않은 수열은 좋은 수열이다.<br/>
다음은 나쁜 수열의 예이다.<br/>

  - ~33~
  - 3~2121~323
  - ~123123~213

다음은 좋은 수열의 예이다.<br/>

  - 2
  - 32
  - 32123
  - 1232123

길이가 N인 좋은 수열들을 N자리의 정수로 보아 그중 가장 작은 수를 나타내는 수열을 구하는 프로그램을 작성하라. 예를 들면, 1213121과 2123212는 모두 좋은 수열이지만 그 중에서 작은 수를 나타내는 수열은 1213121이다.<br/>


## 입력
입력은 숫자 N하나로 이루어진다. N은 1 이상 80 이하이다.<br/>


## 출력
첫 번째 줄에 1, 2, 3으로만 이루어져 있는 길이가 N인 좋은 수열들 중에서 가장 작은 수를 나타내는 수열만 출력한다. 수열을 이루는 1, 2, 3들 사이에는 빈칸을 두지 않는다.<br/>


## 예제 입력
7<br/>


## 예제 출력
1213121<br/>


## 풀이
문제 접근이 어려워 힌트를 참고했고, 이후 백트래킹 방식으로 해결했다.<br/>


i > 0인 경우, 0번부터 i번째까지가 좋은 수열이라면, 그 앞부분인 0번부터 i - 1번째까지도 좋은 수열이어야 한다.<br/>
따라서 i + 1번째 숫자를 추가할 때는, 그 숫자를 포함한 가장 최근 부분 수열이 반복되는지 확인하면 된다.<br/>


우리는 길이가 N인 가장 작은 좋은 수열을 찾아야 한다.<br/>
따라서 가능한 숫자 중 가장 작은 수부터 시도하며 좋은 수열을 채워나간다.<br/>


그리고 길이 1부터 시작해 점차 길이를 늘리며, 마지막에 추가된 수를 기준으로 직전 부분 수열과의 반복 여부를 확인한다.<br/>
만약 같은 부분 수열이 반복된다면, 해당 경로는 좋은 수열이 아니므로 백트래킹으로 종료한다.<br/>


이렇게 불가능한 경우 값을 1씩 늘려가며 찾아갔다.<br/>


각 자리에는 1, 2, 3 중 하나의 숫자가 들어갈 수 있으므로, 이론적으로는 길이 N에 대해 최대 3^N가지 수열이 존재한다.<br/>
하지만 같은 숫자가 연속으로 나오는 경우나, 반복되는 부분 수열이 생기는 경우는 백트래킹으로 가지치기되므로 실제 탐색 수는 훨씬 줄어든다.<br/>


코드에서는 길이 1인 경우는 이전 값을 넘겨줘서 제외하는 식으로 판단했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/2661