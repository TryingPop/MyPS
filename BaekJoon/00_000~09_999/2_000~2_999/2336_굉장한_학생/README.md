# C#

## 난이도 : 플레티넘 2

## 알고리즘 분류
  - 자료 구조
  - 세그먼트 트리

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 192 MB

## 문제
N명의 학생이 참여하여 세 번의 시험을 치렀다. N명의 학생들은 세 번의 시험에 모두 응시하였다. 조교는 각각의 시험에서 같은 등수의 학생이 한 명도 없도록 성적을 매겼다.<br/>
A라는 학생이 B라는 학생보다 세 번의 시험에서 모두 성적이 좋다면, A가 B보다 '대단하다'고 한다. 또, C라는 학생보다 '대단한' 학생이 한 명도 없으면, C를 '굉장하다'고 한다.<br/>
세 번의 시험에서 각 학생의 성적이 주어졌을 때, '굉장한' 학생의 수를 구하는 프로그램을 작성하시오.<br/>


## 입력
첫째 줄에 N(1 ≤ N ≤ 500,000)이 주어진다. 다음 세 개의 줄에는 각 시험에서 1등인 학생부터 N등인 학생이 순서대로 주어진다. 학생의 번호는 1부터 N까지 매겨져 있다.<br/>


## 출력
첫째 줄에 '굉장한' 학생의 수를 출력한다.<br/>


## 예제 입력
10<br/>
2 5 3 8 10 7 1 6 9 4<br/>
1 2 3 4 5 6 7 8 9 10<br/>
3 8 7 10 5 4 1 2 6 9<br/>


## 예제 출력
4<br/>


## 풀이
A가 굉장한 사람이라는 말은 A보다 대단한 사람이 없다는 것과 동치이다.<br/>
A가 B보다 대단한 사람이 아니라는 말은 B의 점수 중 적어도 1개가 A의 점수보다 높은 경우랑 같다.<br/>
그래서 세 점수 중 아무 1개를 잡고 학생들을 재정렬한다. 편의상 첫 점수로 재정렬한다.<br/>


그러면 i < j인 경우 j는 첫 점수가 i보다 낮으므로 j는 i보다 대단한 사람이 될 수 없다.<br/>
그래서 i보다 작은 값에 대해서 두 번째 점수와 세 번째 점수로 대단한 사람이 존재하는지 확인하면 된다.<br/>


여기서 조사할 때 seg[idx] = val를 idx를 두 번째 점수 범위라 할 때,<br/>
idx가 리프인 경우 val는 세 번째 점수로, idx가 리프가 아니면 해당 구간에 있는 세 번째 점수의 최댓값이 담기게한다.<br/>
그러면 앞의 사람을 조사할 때 자신보다 높은 점수를 가진 사람 범위에서 세 번째 점수의 최댓값이 자신의 세 번째 점수보다 큰지 확인하면 된다.<br/>
만약 존재하면 굉장한 사람이 될 수 없고, 존재하지 않으면 해당 사람은 굉장한 사람이 된다.<br/>
이렇게 카운팅하면 정답이 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/2336