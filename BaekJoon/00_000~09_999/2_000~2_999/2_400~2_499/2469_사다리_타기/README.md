# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 구현
  - 문자열

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 128 MB

## 문제
k명의 참가자들이 사다리 타기를 통하여 어떤 순서를 결정한다. 참가자들은 알파벳 대문자 첫 k개로 표현되며, 사다리 타기를 시작할 때의 순서는 아래 그림과 같이 항상 알파벳 순서대로이다.<br/>
k=10 인 예를 들어 보자. 10명의 A, B, C, D, E, F, G, H, I, J 참가자들이 사다리 타기를 준비한다. 아래 그림은 10개의 세로 줄과 5개의 가로 줄을 가지고 있는 사다리의 한 예를 보여주고 있다.<br/>

|A||B||C||D||E||F||G||H||I||J|사다리 갯수|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|│||│|─|│||│||│||│|─|│||│||│||│|가로 - 1|
|│|─|│||│|─|│||│||│||│||│||│||│|가로 - 2|
|│||│||│|─|│||│|─|│||│||│||│|─|│|가로 - 3|
|│|─|│||│||│|─|│||│||│||│|─|│||│|가로 - 4|
|│||│||│|─|│||│|─|│||│|─|│||│|─|│|가로 - 5|
|A||C||G||B||E||D||J||F||I||H||


이 사다리에서 점선은 가로 막대가 없음을, 굵은 가로 실선은 옆으로 건너갈 수 있는 가로 막대가 있음을 나타내고 있다.<br/>
따라서 위에 제시된 사다리를 타면 그 최종 도달된 순서는 왼쪽으로부터 A, C, G, B, E, D, J, F, I, H 가 된다.<br/>
사다리 타기는 세로 막대를 타고 내려오는 중에 가로막대를 만나면 그 쪽으로 옮겨 가면서 끝까지 내려가는 과정이다.  따라서 사다리 타기의 규칙 특성상 아래 그림과 같이 두 가로 막대가 직접 연결될 수는 없으므로 이 상황은 이 문제에서 고려할 필요가 없다.<br/>

|│|─|│|─|│|
|:---:|:---:|:---:|:---:|:---:|

우리는 하나의 가로 줄이 감추어진 사다리를 받아서 그 줄의 각 칸에 가로 막대를 적절히 넣어서 참가자들의 최종 순서가 원하는 순서대로 나오도록 만들려고 한다.<br/>
입력에서 사다리의 전체 모양은 각 줄에 있는 가로 막대의 유무로 표현된다. 각 줄에서 가로 막대가 없는 경우에는 ‘*’(별)문자, 있을 경우에는 ‘-’(빼기) 문자로 표시된다. 그리고 감추어진 특정 가로 줄은 길이 k-1인 ‘?’ (물음표) 문자열로 표시되어 있다.<br/>


## 입력
첫 줄에는 참가한 사람의 수 k가 나온다(3 ≤ k ≤ 26). 그 다음 줄에는 가로 막대가 놓일 전체 가로 줄의 수를 나타내는 n이 나온다(3 ≤ n ≤ 1,000). 그리고 세 번째 줄에는 사다리를 타고 난 후 결정된 참가자들의 최종 순서가 길이 k인 대문자 문자열로 들어온다.<br/>
k와 n, 그리고 도착순서 문자열이 나타난 다음, 이어지는 n개의 줄에는 앞서 설명한 바와 같이 ‘*’와 ‘-’ 문자로 이루어진 길이 k-1인 문자열이 주어진다. 그 중 감추어진 가로 줄은 길이가 k-1인 ‘?’ 문자열로 표시되어 있다.<br/>


## 출력
입력 파일 세 번째 줄에서 지정한 도착순서가 해당 사다리에서 만들어질 수 있도록 감추어진 가로 줄을 구성해야 한다.<br/>
여러분은 감추어진 가로 줄의 상태를 재구성하여 이를 ‘*’(별) 문자와 ‘-’(빼기) 문자로 구성된 길이 k-1인 문자열로 만들어 출력하면 된다.<br/>
그런데 어떤 경우에는 그 감추어진 가로 줄을 어떻게 구성해도 원하는 순서를 얻을 수 없는 경우도 있다.  이 경우에는  ‘x’(소문자 엑스)로 구성된 길이 k-1인 문자열을 출력해야 한다.<br/>


## 예제 입력
10<br/>
5<br/>
ACGBEDJFIH<br/>
\*\-\*\*\*\-\*\*\*<br/>
\-\*\-\*\*\*\*\*\*<br/>
\?\?\?\?\?\?\?\?\?<br/>
\-\*\*\-\*\*\*\-\*<br/>
\*\*\-\*\-\*\-\*\-<br/>


## 예제 출력
\*\*\-\*\-\*\*\*\-<br/>


## 풀이
위에서 아래로 ?까지 사다리를 타고 내려온다.<br/>
사다리 결과를 알고 있다면 사다리 규칙에 맞춰 타고 올라와도 경로가 보존된다.<br/>
그래서 맨 밑에서 ?까지 사다리를 타고 올라온다.<br/>


이제 이렇게 찾은 두 상태가 있다.<br/>
위에 알파벳 상태를 이어 붙여 만든 문자열을 str1, 아래 알파벳 상태를 이어붙여 만든 문자열을 str2라 하자.<br/>
그러면 str1과 str2의 문자를 비교했을 때 사다리로 만들 수 있다면 각 i < str1.Length에 대해 str1[i] == str2[i]이거나 str1[i] == str2[i + 1] 이고 str2[i] == str1[i + 1]이어야 한다.<br/>
만약 해당 조건을 만족하지 않는다면 사다리가 존재하지 않는다.<br/>


이제 str1[i] == str2[i]라면 사다리가 없는 \*를, str1[i] == str2[i + 1] 이고 str2[i] == str1[i + 1]이라면 사다리를 -를 놓아야 한다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/2469