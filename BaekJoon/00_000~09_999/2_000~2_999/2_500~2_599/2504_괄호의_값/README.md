# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 구현
  - 자료 구조
  - 스택

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 128 MB

## 문제
4개의 기호 ‘(’, ‘)’, ‘[’, ‘]’를 이용해서 만들어지는 괄호열 중에서 올바른 괄호열이란 다음과 같이 정의된다.<br/>

  1. 한 쌍의 괄호로만 이루어진 ‘()’와 ‘[]’는 올바른 괄호열이다.
  2. 만일 X가 올바른 괄호열이면 ‘(X)’이나 ‘[X]’도 모두 올바른 괄호열이 된다.
  3. X와 Y 모두 올바른 괄호열이라면 이들을 결합한 XY도 올바른 괄호열이 된다.

예를 들어 ‘(()[[]])’나 ‘(())[][]’ 는 올바른 괄호열이지만 ‘([)]’ 나 ‘(()()[]’ 은 모두 올바른 괄호열이 아니다. 우리는 어떤 올바른 괄호열 X에 대하여 그 괄호열의 값(괄호값)을 아래와 같이 정의하고 값(X)로 표시한다.<br/>

  1. ‘()’ 인 괄호열의 값은 2이다.
  2. ‘[]’ 인 괄호열의 값은 3이다.
  3. ‘(X)’ 의 괄호값은 2×값(X) 으로 계산된다.
  4. ‘[X]’ 의 괄호값은 3×값(X) 으로 계산된다.
  5. 올바른 괄호열 X와 Y가 결합된 XY의 괄호값은 값(XY)= 값(X)+값(Y) 로 계산된다.

예를 들어 ‘(()[[]])([])’ 의 괄호값을 구해보자. ‘()[[]]’ 의 괄호값이 2 + 3×3=11 이므로 ‘(()[[]])’의 괄호값은 2×11=22 이다. 그리고 ‘([])’의 값은 2×3=6 이므로 전체 괄호열의 값은 22 + 6 = 28 이다.<br/>
여러분이 풀어야 할 문제는 주어진 괄호열을 읽고 그 괄호값을 앞에서 정의한대로 계산하여 출력하는 것이다.<br/>


## 입력
첫째 줄에 괄호열을 나타내는 문자열(스트링)이 주어진다. 단 그 길이는 1 이상, 30 이하이다.<br/>


## 출력
첫째 줄에 그 괄호열의 값을 나타내는 정수를 출력한다. 만일 입력이 올바르지 못한 괄호열이면 반드시 0을 출력해야 한다.<br/>


## 예제 입력
(()[[]])([])<br/>


## 예제 출력
28<br/>


## 풀이
괄호가 올바른지부터 판별해야 한다.<br/>
이는 스택을 이용해 푸는 것으로 잘 알려져 있다.<br/>
그래서 괄호식이 올바른지는 스택으로 판별했다.<br/>
그리고 올바르게 괄호가 이뤄지는 경우 바로바로 값을 넣어 계산도 함께 해줬다.<br/>


먼저 올바른 식인지 판별하는 것은 괄호의 왼쪽 부분인 \'\(\'나 \'\[\'를 스택에 넣는다.<br/>
그리고 괄호의 오른쪽 부분인 \'\)\'나 \'\]\'를 읽는 경우 스택에 원소가 있는지 확인하고 스택의 맨 위에 원소가 해당 괄호가 일치하는지 확인하면 된다.<br/>
만약 스택에 원소가 없다면 불가능한 괄호식이고, 스택의 위와 읽는 괄호의 모양을 합쳤을 때 \(\] 모양이거나 \[\)모양인 경우 불가능하다 판별한다. 그리고 이 경우 스택에 원소가 절대 0이 안되게 조절한다.<br/>


이외 올바른 괄호인 경우 \(\)나 \[\]인 경우면 숫자 계산이 필요하다.<br/>
calc라는 int 변수를 둬서 연산한 숫자를 저장하고 isOp라는 bool 변수를 둬서 결과에 누적해야함을 알려줬다.<br/>


괄호의 오른쪽 부분이 입력될 때마다 isOp를 확인하며 정답에 calc를 누적하고 괄호만큼 나눗셈 연산을 한다. isOp연산을 했다면 isOp를 false로 변형한다.<br/>
그리고 괄호의 왼쪽 부분이 입력될 때마다 calc를 괄호 만큼 곱해주고 isOp를 true로 한다.<br/>
이렇게 값을 연산해갔다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/2504