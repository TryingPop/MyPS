# C#

## 난이도 : 플레티넘 2

## 알고리즘 분류
  - 자료 구조
  - 세그먼트 트리
  - 스위핑

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 128 MB

## 문제
2051년, 야심차게 발사한 화성탐사선 성화가 탐사한 곳의 화성 지도를 N개 보냈다.<br/>
화성탐사선의 성공에 의기양양해진 BaSA(Baekjoon Space Agency)는 야심찬 계획을 발표했다.<br/>
화성 전체 지도를 만들겠습니다!<br/>
전체 지도를 만들기 전에, 지금까지 화성탐사선이 보낸 지도를 모두 합쳤다. 이때, 이 지도의 크기는 몇일까?<br/>
탐사선이 보낸 지도는 항상 직사각형 모양이며, 겹칠 수도 있다.<br/>


## 입력
첫째 줄에 화성탐사선 성화가 보낸 지도의 수 N(1 ≤ N ≤ 10,000)이 주어진다. 다음 N개의 줄에는 각 지도의 정보가 주어진다. 지도의 정보는 네 정수 x1, y1, x2, y2 (0 ≤ x1 < x2 ≤ 30,000, 0 ≤ y1 < y2 ≤ 30,000)으로 이루어져 있다. (x1, y1)와 (x2, y2)은 직사각형의 왼쪽 아래 좌표와 오른쪽 위 좌표이다. 모든 지도는 직사각형이고, 변은 항상 x축과 y축에 평행하다.<br/>


## 출력
첫째 줄에 지금까지 탐사선이 보낸 지도를 모두 합쳤을 때, 그 면적을 출력한다. (직사각형을 모두 합쳤을 때 면적)<br/>


## 예제 입력
2<br/>
10 10 20 20<br/>
15 15 25 30<br/>


## 예제 출력
225<br/>


## 풀이
주된 아이디어는 구분구적법이다. 정수로 입력되므로 1크기의 사각형으로 나눠서 본다.<br/>
해당 사각형에 지도가 없으면 0을, 이외는 지도가 있는만큼 값을 넣었다.<br/>
그리고 1의 값들을 합쳐주면 화성 지도의 면적이 된다.<br/>


입력되는 값의 범위가 3만으로 작아 해당값을 이용해도 상관없다.<br/>
세그먼트 트리에 해당 사용되는 선분의 길이와 지도의 개수를 저장했다.<br/>
지도가 놓여 있으면 해당 노드는 최고 길이를 갖고, 지도가 없다면 자식 두 노드의 합으로 한다.<br/>
자식이 없다면 길이는 0이다. 이렇게 구분구적법 아이디어와 세그먼트 트리를 이용하니 이상없이 풀린다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/3392