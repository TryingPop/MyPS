# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 브루트포스 알고리즘
  - 정렬
  - 이분 탐색
  - 두 포인터

## 제한조건
  - 시간 제한 : 4초
  - 메모리 제한 : 128 MB

## 문제
Elly는 예상치 못하게 프로그래밍 대회를 준비하는 학생들을 가르칠 위기에 처했다. 대회는 정확히 3명으로 구성된 팀만 참가가 가능하다. 그러나 그녀가 가르칠 학생들에게는 큰 문제가 있었다. 코딩 실력이 좋으면 팀워크가 떨어지고, 팀워크가 좋을수록 코딩 실력이 떨어진다. 그리고 출전하고자 하는 대회는 코딩 실력과 팀워크 모두가 중요하다.<br/>
Elly는 그녀가 가르칠 수 있는 모든 학생들의 코딩 실력을 알고 있다. 각각의 코딩 실력 Ai는 -10000부터 10000 사이의 정수로 표시되어 있다. 그녀는 팀워크와 코딩 실력이 모두 적절한 팀을 만들기 위해, 세 팀원의 코딩 실력의 합이 0이 되는 팀을 만들고자 한다. 이러한 조건 하에, 그녀가 대회에 출전할 수 있는 팀을 얼마나 많이 만들 수 있는지를 계산하여라.<br/>
N명의 학생들의 코딩 실력 Ai가 -10000부터 10000사이의 정수로 주어질 때, 합이 0이 되는 3인조를 만들 수 있는 경우의 수를 구하여라.<br/>


## 입력
입력은 표준 입력으로 주어진다.<br/>
첫 번째 줄에 학생의 수 N이 입력된다. 두 번째 줄에 N개의 그녀가 가르칠 학생들의 코딩 실력인 Ai가 주어진다.<br/>


## 출력
표준 출력으로 그녀가 고를 수 있는 팀의 수를 하나의 정수로 출력한다.<br/>


## 제한
  - 1 ≤ N ≤ 10,000
  - -10,000 ≤ Ai ≤ 10,000


## 예제 입력
10<br/>
2 -5 2 3 -4 7 -4 0 1 -6<br/>


## 예제 출력
6<br/>


## 제한
예시에서 가능한 참가자 그룹은 아래와 같다.<br/>
(2, -5, 3), (2, 2, -4), (2, 2, -4), (-5, 2, 3), (3, -4, 1), (3, -4, 1)<br/>
두 개의 -4는 서로 다른 참가자를 나타내는 것에 유의하라. (2, 2, -4)와 (3, -4, 1)이 두 번씩 나타난다.<br/>


## 풀이
서로 다른 세 사람의 수 합이 0이 되는 경우의 수를 찾아야 한다.<br/>


N의 갯수가 1만이고 제한 시간은 4초이다.<br/>
그래서 N^2의 방법이 유효하다.<br/>


이는 브루트포스로 서로 다른 두 사람의 수의 합 a을 모두 찾는 것이 유효하다.<br/>
그리고 남은 원소 중 -a의 갯수를 세어 정답에 누적하면 우리가 찾는 값이 된다.<br/>
남은 원소를 해시로 관리한다면 O(1)에 찾을 수 있다.<br/>
그래서 브루트포스와 해시로 찾았다.<br/>


먼저 입력과 동시에 배열에 수열을 저장한다.<br/>
그리고 해시로 사람이 가진 수와 갯수를 기록한다.<br/>


수의 범위가 -1만에서 1만이다. 기존 수에서 1만을 더하는식으로 해싱을 하면 2만 + 1 크기의 배열을 해시 자료구조처럼 쓸 수 있다.<br/>
그래서 기존 수에 +1만을 한 값을 인덱스로 해서 갯수를 저장했다.<br/>


해시 자료구조인 Dictionary 로 저장할 수 있지만 여기서는 위와 같은 배열로 했다.<br/>
C#의 Dictionary는 값을 찾을 때 해당 키를 해싱해 숫자로 바꾼 뒤 해당 숫자가 존재하는지 단방향 연결 리스트 형태로 확인한다.<br/>
존재하는 경우 해당 값을 읽어와 배열보다는 시간이 오래 걸린다.<br/>
그리고 값을 저장하는 연결 리스트역시 배열로 구성되는데 저장할 값이 많아 메모리도 더 사용한다.<br/>


이제 서로 다른 사람에서 수를 선택한다.<br/>
서로 다른 두 사람은 해시에서 갯수를 뺀다.<br/>
서로 다른 두 사람의 더한값 a에 대해 -a의 갯수를 누적하며 정답을 찾았다.<br/>


해당 경우 서로 다른 두 사람의 수를 더해야 하므로 N^2의 시간이 걸린다.<br/>
그리고 해시로 찾는 경우는 값에 1만을 더해 배열의 범위에 들어가면 배열의 값만 읽으면 되므로 O(1)로 찾아진다.<br/>
그래서 시간복잡도는 O(N^2)이다.<br/>


다른 사람의 풀이를 보니, 서로 다른 사람의 수가 0이되는 경우를 나눠서 해결했다.<br/>


  - 세 수 모두 0인 경우
  - 세 수 중 0이 오로지 1개인 경우
  - 양수 2개, 음수 1개로 0이 되는 경우
  - 음수 2개, 양수 1개로 0이 되는 경우


두 수가 0인 경우는 합이 0이므로 남은 1개의 수도 0이된다.<br/>
그래서 0이 오로지 2개인 경우는 존재하지 않는다.<br/>


① 0이 모두 0인 경우는 0의 갯수를 z라 하면 zC3 = z * (z - 1) * (z - 2) / 6이다.<br/>


② 0이 1개인 경우는 해시를 이용하면 O(1)에 찾을 수 있다.<br/>


③ 양수인 다른 두 사람 2명을 선택해 더한 뒤 해당 합 a에대해 -a인 사람을 해시로 조사한다.<br/>


④ 음수인 다른 두 사람 2명을 선택해 더한 뒤 해당 합 a에 대해 -a인 사람을 해시로 조사한다.<br/>


해당 시간복잡도는 앞과 같이 O(N^2)이지만 양수의 사람과 음수의 사람이 골고루 분포할수록 서로 다른 2명을 선택하는게 절반이상 경우의 수가 낮아진다.<br/>
실제로 해당 문제에서 4배 이상 빨랐다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/3151