# C#

## 난이도 : 플레티넘 4

## 알고리즘 분류
  - 자료 구조
  - 세그먼트 트리

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 256 MB

## 문제
상근이는 영화 DVD 수집가이다. 상근이는 그의 DVD 콜렉션을 쌓아 보관한다.<br/>
보고 싶은 영화가 있을 때는, DVD의 위치를 찾은 다음 쌓아놓은 콜렉션이 무너지지 않게 조심스럽게 DVD를 뺀다. 영화를 다 본 이후에는 가장 위에 놓는다.<br/>
상근이는 DVD가 매우 많기 때문에, 영화의 위치를 찾는데 시간이 너무 오래 걸린다. 각 DVD의 위치는, 찾으려는 DVD의 위에 있는 영화의 개수만 알면 쉽게 구할 수 있다. 각 영화는 DVD 표지에 붙어있는 숫자로 쉽게 구별할 수 있다.<br/>
각 영화의 위치를 기록하는 프로그램을 작성하시오. 상근이가 영화를 한 편 볼 때마다 그 DVD의 위에 몇 개의 DVD가 있었는지를 구해야 한다.<br/>


## 입력
첫째 줄에 테스트 케이스의 개수가 주어진다. 테스트 케이스의 개수는 100개를 넘지 않는다.<br/>
각 테스트 케이스의 첫째 줄에는 상근이가 가지고 있는 영화의 수 n과 보려고 하는 영화의 수 m이 주어진다. (1 ≤ n, m ≤ 100,000) 둘째 줄에는 보려고 하는 영화의 번호가 순서대로 주어진다.<br/>
영화의 번호는 1부터 n까지 이며, 가장 처음에 영화가 쌓여진 순서는 1부터 증가하는 순서이다. 가장 위에 있는 영화의 번호는 1이다. <br/>


## 출력
각 테스트 케이스에 대해서 한 줄에 m개의 정수를 출력해야 한다. i번째 출력하는 수는 i번째로 영화를 볼 때 그 영화의 위에 있었던 DVD의 개수이다. 상근이는 매번 영화를 볼 때마다 본 영화 DVD를 가장 위에 놓는다.<br/>


## 예제 입력
2<br/>
3 3<br/>
3 1 1<br/>
5 3<br/>
4 4 5<br/>


## 예제 출력
2 1 0<br/>
3 0 4<br/>


## 풀이
처음에는 삭제 시 맨 앞으로 옮기기에 이중 연결 리스트로 접근하면 어떨까 싶었다.<br/>
그런데 문제를 보니 앞에 있는 갯수를 구해야했고, 이는 구간에 연산이 필요하다.<br/>
그래서 세그먼트 트리로 접근했다. 자기보다 앞에 있는 갯수를 구해야하므로 갯수를 세는 세그먼트트리로 잡았다.<br/>
앞에 놓는 것은 가장 큰 인덱스로 옮기게 했다.<br/>


예제의 처음 경우로 보면 1, 2, 3 노드가 있다. 각각의 노드는 초기 idx는 3, 2, 1이다.<br/>
처음에 3번 노드보다 큰 숫자는 2개가 존재하고 2를 반환한다.<br/>
그리고 3번 노드가 가리키는 idx를 맨 앞으로 옮긴다는 의미로 가장 큰값 + 1 = 4로 할당해 재배치한다.<br/>
이후 1번 노드를 꺼내는데 1번 노드의 idx는 3이다. 3보다 큰 것은 4가 있고 1을 반환한다.<br/>
그리고 1번 노드가 가리키는 idx를 맨 앞으로 옮긴다는 의미로 가장 큰 값 + 1 = 5로 할당해 재배치한다.<br/>
이후 다시 1번 노드를 꺼내는데 idx는 5이고 5보다 큰 것은 없으므로 0을 반환한다.<br/>
그리고 1번 노드가 가리키는 idx를 맨 앞으로 옮긴다는 의미로 가장 큰 값 + 1 = 6로 할당해 재배치한다.<br/>
이렇게 제출하니 이상없이 통과한다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/3653