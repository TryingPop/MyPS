# C#

## 난이도 : 골드 3

## 알고리즘 분류
  - 브루트포스 알고리즘
  - 백트래킹

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 128 MB

## 문제
리트는 알파벳을 다른 기호로 바꿔서 적는 방법으로, 주로 인터넷에서 사용한다. 영어 알파벳의 각 문자는 비슷하게 생긴 하나 또는 그 이상의 문자로 바꿔서 적는다. 예를 들어, ACMICPC에서 A를 4, C를 (, M을 |V|, I를 1, P를 |>로 바꾸면, "4(IVI1(|>(" 로 적을 수 있다. M과 P의 경우처럼 한 알파벳을 길이가 1보다 큰 문자로 바꿀 수도 있다.<br/>
한 알파벳을 다른 문자로 바꾸는 방법이 여러 가지일 수도 있다. 예를 들어, D를 나타낼 때 [), |), |> 를 사용할 수 있다. 이러한 점들 때문에, Leet는 매우 읽기 어렵다.<br/>
영어 알파벳으로 적혀있는 원래 단어와 리트로 적혀진 단어가 주어졌을 때, 두 단어가 아래 조건을 지키는지 아닌지를 검사하는 프로그램을 작성하시오.<br/>

  1. 각 알파벳을 리트로 나타낼 때, 최대 k개의 문자로 바꿀 수 있다. k는 입력으로 주어진다.
  2. 한 알파벳을 리트로 바꾸는 방법은 한 가지이다. 예를 들어, D의 리트로 [)를 사용하는 경우에는 |>를 D의 리트로 사용할 수 없다.
  3. 두 개 또는 그 이상의 알파벳을 리트로 바꿨을 때, 그 결과가 같을 수도 있다. 예를 들어, D와 P의 리트가 동시에 |>일 수도 있다.
  4. 알파벳과 리트가 서로 비슷하게 보이지 않아도 상관없다.


## 입력
첫째 줄에 테스트 케이스의 개수 T가 주어진다. 각 테스트 케이스는 세 줄로 이루어져 있다. 첫째 줄에는 한 알파벳을 리트로 바꿨을 때 리트의 최대 길이 k가 주어진다. (1 ≤ k ≤ 3) 둘째 줄에는 원래 단어가 주어진다. 단어는 알파벳 소문자 a-z로만 이루어져 있고, 길이는 1보다 크거나 같고, 15보다 작거나 같다. 셋째 줄에는 리트로 나타낸 단어가 주어진다. 리트의 길이는 1보다 크거나 같으며, a-z, A-Z, 0-9, @, \\, /, -, =, ^, |, \[, \], \(, \), \{, \}, \<, \>로 이루어져 있다.<br/>


## 출력
각 테스트 케이스마다, 입력으로 주어진 단어가 같으면 1, 아니면 0을 출력한다.<br/>


## 예제 입력
2<br/>
3<br/>
mississippi<br/>
nni55i55ippi<br/>
2<br/>
foobar<br/>
|=o08ar<br/>


## 예제 출력
1<br/>
0<br/>


## 풀이
기존 문자열과 리트로 변형된 문자열이 주어지고, 기존 문자열의 길이는 15를 넘지 않는다.<br/>


한 문자를 치환할 수 있는 리트 표현은 최대 길이 k 이하의 문자열이며, 각 문자마다 0-9, a-z, A-Z, 특수문자를 포함해 약 60개 이상의 문자가 가능하다.<br/>
이때 모든 경우를 완전 탐색하면 경우의 수가 최대 60^3 = 216,000 이상이며, 서로 다른 문자가 15개인 경우 10^75 이상의 연산이 필요하므로 비현실적이다.<br/>


따라서 B 문자열의 부분 문자열을 기준으로 기존 문자열을 탐색하는 방식으로 접근했다.<br/>
한 문자의 치환 결과는 B 문자열 내 1~k 길이의 부분 문자열 중 하나여야 하므로, 가능한 경우의 수는 최대 3^15 = 약 1,500만이다.<br/>
여기에 백트래킹을 통해 조기 종료를 적용하면 실질적인 탐색량은 더 줄어든다.<br/>


탐색은 DFS로 진행하며, 기존 문자열과 리트 문자열의 현재 인덱스를 기준으로 재귀적으로 탐색된다.<br/>
처음 등장하는 문자는 길이 1~k 범위의 부분 문자열로 치환을 시도하며, 이미 매핑된 문자는 해당 매핑대로 일치하는지 확인한다.<br/>


DFS는 두 문자열이 정확히 끝까지 도달했을 때만 유효한 치환으로 인정한다.<br/>
그 외는 탐색을 중단하고 백트래킹을 통해 다른 가능성을 확인한다.<br/>


이렇게 DFS 방식으로 가능한 매핑이 존재하는지 판별해 문제를 해결했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/8905