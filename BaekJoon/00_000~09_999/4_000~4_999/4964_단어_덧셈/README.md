# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 수학
  - 문자열
  - 브루트포스 알고리즘
  - 백트래킹

## 제한조건
  - 시간 제한 : 40초
  - 메모리 제한 : 128 MB

## 문제
단어 덧셈이란 905 + 125 = 1030과 같은 덧셈의 각 숫자를 알파벳으로 바꾼 것이다.<br/>
9를 A로, 0을 C로, 5를 M으로, 1을 I로, 2를 B로, 0을 C로, 3을 P로 바꾸면 다음과 같이 된다.<br/>
ACM + IBM = ICPC<br/>
이렇게 905 + 125 = 1030의 경우에는 바꾸는 방법이 총 4가지가 있다.<br/>


|방법|A|B|C|I|M|P|
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|방법 1|9|2|0|1|5|3|
|방법 2|9|3|0|1|5|4|
|방법 3|9|6|0|1|5|7|
|방법 4|9|7|0|1|5|8|


단어 덧셈이 주어졌을 때, 이 단어 덧셈을 푸는 방법의 수를 구하는 프로그램을 작성하시오. 단, 다음 조건을 만족해야 한다.<br/>

  1. 덧셈의 각 항은 숫자 '0'-'9'로 이루어져 있다. 모든 숫자는 알파벳 'A'-Z'로 바뀌어져 있다.
  2. 한 알파벳은 하나의 숫자만을 나타낼 수 있다. 또, 어떤 숫자에 해당하는 알파벳은 반드시 하나 이어야 한다.
  3. 0을 제외한 숫자는 0으로 시작할 수 없다. 즉, 00이나 0123과 같은 경우는 허용하지 않는다.


## 입력
입력은 여러 개의 테스트 케이스로 이루어져 있다. 테스트 케이스의 마지막 줄에는 0이 주어진다.<br/>
각 테스트 케이스는 첫째 줄에 단어의 개수 N이 주어지고, 그 다음 줄에는 단어 N개가 주어진다. 단어는 알파벳 'A'-'Z'로만 이루어져 있다.<br/>
각 단어는 다음과 같은 방정식을 나타낸다.<br/>
단어1+단어2+...+단어N-1 = 단어N<br/>
N은 2보다 크고, 13보다 작다. 단어의 길이는 0보다 크고, 9보다 작다. 단어에 등장하는 서로 다른 알파벳의 개수는 0보다 크고, 11보다 작다.<br/>


## 출력
각 테스트 케이스에 대해서, 단어 덧셈을 풀 수 있는 방법의 수를 출력한다.<br/>


## 예제 입력
3<br/>
ACM<br/>
IBM<br/>
ICPC<br/>
3<br/>
GAME<br/>
BEST<br/>
GAMER<br/>
4<br/>
A<br/>
B<br/>
C<br/>
AB<br/>
3<br/>
A<br/>
B<br/>
CD<br/>
3<br/>
ONE<br/>
TWO<br/>
THREE<br/>
3<br/>
TWO<br/>
THREE<br/>
FIVE<br/>
3<br/>
MOV<br/>
POP<br/>
DIV<br/>
9<br/>
A<br/>
B<br/>
C<br/>
D<br/>
E<br/>
F<br/>
G<br/>
H<br/>
IJ<br/>
0<br/>

## 예제 출력
4<br/>
1<br/>
8<br/>
30<br/>
0<br/>
0<br/>
0<br/>
40320<br/>


## 풀이
수를 넣는 10! = 3_628_800이고 N은 최대 13이다. 각 경우 최악의 경우 47_174_400이다.<br/>
시간이 40초이므로 브루트포스로 시도했다.<br/>


단어가 주어지면 단어에 사용된 문자의 갯수를 찾는다.<br/>
그리고 각 문자에 대해 중복되지 않은 값을 부여한다.<br/>
이후 합이 만족하는지 확인하며 카운팅했다.<br/>
이렇게 제출하니 15초가 걸렸다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/4963