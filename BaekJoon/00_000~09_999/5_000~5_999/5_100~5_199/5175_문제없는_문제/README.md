# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 브루트포스 알고리즘
  - 비트마스킹

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 128 MB

## 문제
ACM 코더들은 보편적으로 사용하는 많은 알고리즘들에 대한 이해도가 폭넓게 높아야 한다. 그래서 일반적으로 ACM 대회를 개최할 땐 되도록이면 많은 알고리즘을 두루두루 사용하게끔 문제를 낸다.<br/>
하지만 어떤 대회에서, 문제 전체에서 단 한 번도 사용되지 않는 알고리즘이 하나라도 존재한다면 그건 문제 있는 문제 세트이다. 예를 들면 DP가 없거나, 그래프 이론과 관련된 알고리즘이 없는 문제 세트는 문제가 있다는 것이다.<br/>
이번 문제에서는 이번 대회를 위해 만든 문제 세트에 대하여, 문제들의 부분집합으로 이루어진 문제 세트들 중 문제 없는 문제 세트를 만들어볼 것이다. 세트 내에서 어떤 알고리즘이 너무 많이 사용되는 것은 상관없으나, 모든 알고리즘들을 반드시 한 번 이상 사용해야만 한다.<br/>
하지만 문제를 만드는 것은 매우 어려운 일이기 때문에 되도록이면 적은 문제로 이루어진 세트를 찾아야 한다. 그렇게 해야 남는 문제를 다음 대회에 사용할 수가 있다.<br/>


## 입력
첫 줄에 테스트 케이스의 수 K가 주어진다.<br/>
각 테스트 케이스의 첫 줄엔 두 정수 M과 N이 주어진다. (1 ≤ M, N ≤ 20)<br/>
M은 대회에서 사용할 알고리즘의 개수이며, N은 문제의 총 개수이다.<br/>
대회에서 사용해야 할 알고리즘은 1부터 M까지의 모든 자연수이며, 문제는 첫 번째 문제가 A, 두 번째 문제가 B, 세 번째 문제가 C.. 의 방식으로 이름을 붙인다.<br/>
이어서 N줄에 걸쳐 첫 번째 문제부터 N번째 문제까지 어떤 알고리즘들을 사용하는지가 공백으로 구분되어 주어진다.<br/>


## 출력
각 테스트 케이스마다 Data Set K: 를 출력한 뒤, 1부터 M까지의 모든 알고리즘을 포함할 수 있는 최소 크기의 문제 세트에 속한 문제들을 사전순으로 출력한다.<br/>
만일 답이 여러 가지라면 그 중 사전순으로 가장 앞선 것을 출력한다.<br/>
모든 테스트 케이스에서 답이 존재하지 않는 경우는 없다.<br/>
각 테스트 케이스의 사이엔 빈 줄을 하나 출력한다.<br/>


## 예제 입력
2<br/>
2 3<br/>
1<br/>
2<br/>
1 2<br/>
4 5<br/>
1 2 3<br/>
1 2<br/>
2 4<br/>
1 3 4<br/>
2 3 4<br/>


## 예제 출력
Data Set 1: C<br/>
<br/>
Data Set 2: A C<br/>


## 풀이
문제는 최대 20문제이다. 그래서 문제들을 선택하는 경우의 수는 2^20으로 약 100만가지 경우의 수다.<br/>
그래서 선택하는 모든 경우를 확인해 정답을 찾았다.<br/>


알고리즘이 모두 선택되었는지 확인해야 한다.<br/>
알고리즘을 중복해서 선택해도 상관없으므로 선택된 경우 1, 선택 안된경우 0으로 알고리즘 선택 상태를 비트마스킹으로 저장했다.<br/>


알고리즘이 모두 선택된 경우 선택된 문제를 알아야 한다.<br/>
그래서 문제 선택 상태 역시 비트마스킹으로 저장했다.<br/>


선택된 문제 갯수가 같은 경우 사전 순으로 앞서는 것을 선택해야 한다.<br/>
그래서 문제 번호 순서대로 비트마스킹 했을 때 값이 커지는 비트에 상태를 저장했다.<br/>
그러면 문제 선택 상태의 비트마스킹 값이 클 수록 사전순으로 앞서게 된다.<br/>


예를들어 전체 10 문제가 있을 경우 1번은 10번째 비트(1 << (10 - 1)), 7번은 9번 비트(1 << (10 - 7))에 할당해줬다.<br/>
그러면 1번 문제를 선택하면 2^9 = 512가 추가 되고, 7번 문제가 선택되면 2^3 = 8이 추가된다.<br/>


선택한 경우에 대해서는 선택한 알고리즘의 비트, 선택한 문제의 비트 값 비교만 하면 되므로 상수 시간(O(1))에 해결이 된다.<br/>
그래서 문제의 수를 n이라 하면 각 케이스별 시간 복잡도는 O(2^n)이다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/5175