# C#

## 난이도 : 실버 2

## 알고리즘 분류
  - 그래프 이론
  - 브루트포스 알고리즘
  - 그래프 탐색
  - 너비 우선 탐색
  - 비트마스킹

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 128 MB

## 문제
상우는 재미있는 게임을 생각해냈다. 동전 9개를 아래 그림과 같이 3행 3열로 놓는다. H는 앞면, T는 뒷면을 의미한다.<br/>

	H T T
	H T T
	T H H

게임의 목적은 이 동전의 모양을 모두 같은 면(H나 T)이 보이도록 하는 것이다. 단, 하나의 동전만을 뒤집을 수는 없고, 한 행의 모든 동전, 한 열의 모든 동전 또는 하나의 대각선 상의 모든 동전을 한 번에 뒤집어야 한다. 그런 식으로 세 개의 동전을 뒤집는 것을 '한 번의 연산'으로 센다. 상우는 이것을 최소 횟수의 연산으로 실행하고 싶어한다. 오랜 시간 생각한 끝에 위의 경우는 두 번의 연산으로 가능하다는 것을 알아냈고, 또, 이것이 최소인 것도 알아내었다.<br/>

	H T T   T T T   T T T
	H T T → T T T → T T T
	T H H   H H H   T T T

또한, 모두 같은 면으로 만드는 것이 불가능한 모양이 있다는 것도 알아내었다. 다음이 그 예이다.<br/>

	T H H
	H H H
	H H H

상우를 도울 수 있는 프로그램을 작성하시오.<br/>


## 입력
입력의 첫 줄에는 테스트 케이스의 개수 T(1 ≤ T ≤ 10)가 주어진다. 각 테스트 케이스는 세 줄로 이루어지며, 한 줄에 세 개의 동전모양이 주어지는데, 각각의 동전 표시 사이에는 하나의 공백이 주어진다.<br/>


## 출력
각 테스트 케이스에 대해서, 모두 같은 면이 보이도록 만들기 위한 최소 연산 횟수를 출력하고, 불가능한 경우에는 -1을 출력한다.<br/>


## 예제 입력
3<br/>
H T T<br/>
H T T<br/>
T H H<br/>
T H H<br/>
H H H<br/>
H H H<br/>
H H H<br/>
H T H<br/>
H H H<br/>


## 예제 출력
2<br/>
-1<br/>
4<br/>


## 풀이
동전의 갯수는 9개로 고정되어 있고 나올 수 있는 모양은 앞 뒤로 비트마스킹을 이용하면 int로 상태를 표현할 수 있고 경우의 수는 많아야 2^9 = 512개 이다.<br/>
그래서 입력 상태를 int로 변환하는 함수를 만들고, 동전을 뒤집는 연산을 만든 뒤 dp에 상태에 도달하는 데 최소 값을 저장해 만들 수 있는 모양을 BFS로 모두 찾는다.<br/>
모두 조사한 뒤 dp로 해당 상태의 값을 제출했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/9079