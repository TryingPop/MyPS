# C#

## 난이도 : 골드 1

## 알고리즘 분류
  - 그래프 이론
  - 브루트포스 알고리즘
  - 그래프 탐색
  - 너비 우선 탐색
  - 비트마스킹

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 512 MB

## 문제
최대 5개의 조각이 있는 5×5 크기의 보드가 있다. 김지민은 조각을 적절히 움직여서 모든 조각이 연결 요소를 이루게 하려고 한다. 즉 상하좌우로 인접한 조각을 모두 연결했을 때, 모든 쌍의 조각이 적어도 하나의 경로로 연결되어 있어야 한다.<br/>
한 번의 이동으로 하나의 조각을 상하좌우로 인접한 칸으로 옮길 수 있다. 보드의 상태가 주어질 때, 최소 몇 번 이동해야 모든 조각이 연결 요소를 이루게 되는지 구하는 프로그램을 작성하시오.<br/>


## 입력
첫째 줄부터 다섯째 줄까지 보드의 상태가 주어진다. 빈 곳은 '.'이고, 조각은 '*'이다. 조각은 1개 이상 5개 이하이다.<br/>


## 출력
첫째 줄에 문제의 정답을 출력한다.<br/>


## 예제 입력
\*\.\.\.\*<br/>
\.\.\.\.\.<br/>
\.\.\.\.\.<br/>
\.\.\.\.\.<br/>
\*\.\.\.\*<br/>


## 예제 출력
12<br/>


## 힌트

	 . + +-+-.
	 |   |    
	 + + + + +
	 |   |    
	 +-O O O-+
	         |
	 + O + + +
	   |     |
	 .-+ + + .


## 풀이
서로 다른 5개의 위치에 배치하는 경우의 수는 25 x 24 x 23 x 22 x 21 < 700만이다.<br/>
그래서 모든 서로 다른 5개의 경우를 DFS로 찾는다.<br/>


그리고 각 경우 이어져 있는지 BFS로 확인한다.<br/>
각 경우 많아야 20번 탐색한다.<br/>


이제 하나의 섬으로 이어진 경우에 한해 돌들을 이동시킨다.<br/>
상하좌우로만 1칸씩 이동하므로 최단거리는 택시거리가 된다.<br/>
택시거리로 최단거리는 O(1)에 찾을 수 있다.<br/>


이렇게 모든 경우를 조사해서 풀었다.<br/>


이어진 경우를 DFS로 탐색하려고 했다.<br/>
그런데 ㅏ와 같이 이어진 경우를 캐치하지 못한다.<br/>


그리고 한칸씩 확인하면서 이어진 곳에만 이어붙이는 식도 고려해봤다.<br/>
┌<br/>
┘<br/>
최단 경우가 위와 같이 배치 되는 경우를 캐치하지 못한다.<br/>


그래서 결국 BFS로 이어진 경우를 탐색했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/1035