# C#

## 난이도 : 실버 3

## 알고리즘 분류
  - 정렬
  - 기하학

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 512 MB

## 문제
네 점이 주어졌을 때, 네 점을 이용해 정사각형을 만들 수 있는지 없는지를 구하는 프로그램을 작성하시오.<br/>


## 입력
첫째 줄에 테스트 케이스의 개수 T가 주어진다. 각 테스트 케이스는 네 줄로 이루어져 있으며, 점의 좌표가 한 줄에 하나씩 주어진다. 점의 좌표는 -100,000보다 크거나 같고, 100,000보다 작거나 같은 정수이다. 같은 점이 두 번 이상 주어지지 않는다.<br/>


## 출력
각 테스트 케이스마다 입력으로 주어진 네 점을 이용해서 정사각형을 만들 수 있으면 1을, 없으면 0을 출력한다.<br/>


## 예제 입력
2<br/>
1 1<br/>
1 2<br/>
2 1<br/>
2 2<br/>
2 2<br/>
3 3<br/>
4 4<br/>
5 5<br/>


## 예제 출력
1<br/>
0<br/>


## 풀이
먼저 주어진 점들을 x좌표를 최우선으로 y좌표를 차선으로 오름차순 정렬한다.<br/>
그러면 정사각형을 어떻게 배치해도 0번 점에서 1, 2번 점으로 가는 벡터는 대각선 벡터가 될 수 없다.<br/>
마찬가지로 3번 점에서 1, 2 번점으로 가는 벡터는 대각선으로 가는 벡터가 될 수 없다.<br/>
즉, 사각형의 외부 선이 된다.<br/>


정사각형이라는 말은 길이가 같고, 직각을 이루는지 확인해야 한다.<br/>
직각의 확인을 내적을 이용했다.<br/>
a, b벡터와 수직이고 길이가 같은 벡터는 내적을 이용하면 -b, a 또는 b, -a임을 알 수 있다.<br/>
두 사실을 이용해, 0번에서 1번으로 가는 벡터를 a, b로 나타내고, 0번에서 2번으로 가는 벡터가 -b, a인지 혹은 b, -a인지 확인해 직각과 거리가 같음을 확인했다.<br/>
아니라면 길이가 다르거나 직각이 아니므로 정사각형이 될 수 없다.<br/>

3번점도 1, 2번 점에 한해 0번처럼 비교한다.<br/>
여기서 이상이 생기면 정사각형이 될 수 없다.<br/>
반면 두 경우 이상이 없다면, 어느 점도 중복된 좌표가 주어지지 않기에 정사각형이 보장된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/1485