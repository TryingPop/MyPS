# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 브루트포스 알고리즘
  - 백트래킹

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 128 MB

## 문제
숌은 N개의 다른 숫자로 구성되어 있는 집합 X를 만들었다. 그리고, 길이가 2N인 숌 사이 수열 (S)을 만들려고 한다.<br/>
숌 사이 수열이란 다음과 같다.<br/>

  1. X에 들어있는 모든 수는 숌 사이 수열 S에 정확히 두 번 등장해야 한다.
  2. X에 등장하는 수가 i라면, S에서 두 번 등장하는 i사이에는 수가 i개 등장해야 한다.

예를 들어, 숌이 만든 집합 X가 {1,2,3}이고, 숌이 만든 숌 사이 수열이 {2 3 1 2 1 3}이라면, 일단 X에 속하는 모든 수가 S에 두 번 등장하므로 1번 조건을 만족한다. 그리고, 2와 2사이엔 수가 두 개, 1과 1사이엔 1개, 3과 3사이엔 3개가 등장하므로 조건을 만족시킨다.<br/>
집합 X가 주어졌을 때, 숌 사이 수열 S를 출력하는 프로그램을 작성하시오.<br/>


## 입력
첫째 줄에 X의 크기 N이 주어진다. 둘째 줄에 X에 들어가는 수가 빈칸을 사이에 두고 주어진다. X의 크기는 8보다 작거나 같은 자연수이다. X의 원소는 0보다 크거나 같고 16보다 작거나 같은 정수이다.<br/>


## 출력
첫째 줄에 숌 사이 수열을 출력한다. 만약 여러 개일 경우 사전 순으로 가장 빠른 것을 출력한다. 만약 없을 경우에는 -1을 출력한다.<br/>


## 예제 입력
4<br/>
1 2 3 4<br/>


## 예제 출력
2 3 4 2 1 3 1 4<br/>


## 풀이
가능한 모든 수열에 대해 숌 수열을 찾는 것은 16! / (2!)^8로 시간초과날 것이다.<br/>


그런데, 숌 수열의 조건 중 같은 i 숫자의 사이에 수가 i개 들어가야한다는 조건은 i가 정해지면 다음 i의 자리도 정해진다.<br/>
이렇게 n개에 대해서만 조사하면, 8! x 16 < 100만으로 조사할만하다.<br/>
그리고 해당 방법으로 모든 숌 수열을 만들 수 있다.<br/>
해당 수열에 배치를 기록해가며 수열을 만들어갔다.<br/>


다 풀고나서 보니 수열의 길이가 16으로 int 비트 갯수보다 작아 배치 여부를 비트마스킹으로 해도 될거 같다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/1469