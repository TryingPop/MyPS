# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 수학
  - 그래프 이론
  - 브루트포스 알고리즘
  - 그래프 탐색
  - 깊이 우선 탐색
  - 백트래킹
  - 확률론

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 128 MB

## 문제
통제 할 수 없는 미친 로봇이 평면위에 있다. 그리고 이 로봇은 N번의 행동을 취할 것이다.<br/>
각 행동에서 로봇은 4개의 방향 중에 하나를 임의로 선택한다. 그리고 그 방향으로 한 칸 이동한다.<br/>
로봇이 같은 곳을 한 번보다 많이 이동하지 않을 때, 로봇의 이동 경로가 단순하다고 한다. (로봇이 시작하는 위치가 처음 방문한 곳이다.) 로봇의 이동 경로가 단순할 확률을 구하는 프로그램을 작성하시오. 예를 들어, EENE와 ENW는 단순하지만, ENWS와 WWWWSNE는 단순하지 않다. (E는 동, W는 서, N은 북, S는 남)<br/>


## 입력
첫째 줄에 N, 동쪽으로 이동할 확률, 서쪽으로 이동할 확률, 남쪽으로 이동할 확률, 북쪽으로 이동할 확률이 주어진다. N은 14보다 작거나 같은 자연수이고,  모든 확률은 100보다 작거나 같은 자연수 또는 0이다. 그리고, 동서남북으로 이동할 확률을 모두 더하면 100이다.<br/>
확률의 단위는 %이다.<br/>


## 출력
첫째 줄에 로봇의 이동 경로가 단순할 확률을 출력한다. 절대/상대 오차는 10^-9 까지 허용한다.<br/>


## 예제 입력
14 25 25 25 25<br/>


## 예제 출력
0.008845493197441101<br/>


## 풀이
이전에 이동한 경우에 따라 다음 이동 확률은 달라지지 않는다.<br/>
예를들어 전턴에 왼쪽으로 이동했는데 다음턴에 왼쪽으로 이동할 확률이 오르거나 내려가지 않는다.<br/>
즉, 이동하는 사건은 독립이다.<br/>


P(A n B) = P(A)P(B)가 된다.<br/>
여기서 P(X)는 X가 일어날 확률을 뜻하고, n은 교집합을 나타낸다. 그리고 A, B는 이동을 뜻한다.<br/>


그래서 맵에 방문 여부를 기록하며 n회를 이상없이 마치는 확률을 누적해 정답을 찾았다.<br/>
해당 경우로 접근해도 4 x 3^(15) 이하의 경로를 탐색하게 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/1405