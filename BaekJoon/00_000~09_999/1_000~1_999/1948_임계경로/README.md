# C#

## 난이도 : 플레티넘 5

## 알고리즘 분류
  - 그래프 이론
  - 그래프 탐색
  - 위상 정렬
  - 방향 비순환 그래프

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 512 MB

## 문제
월드 나라는 모든 도로가 일방통행인 도로이고, 싸이클이 없다. 그런데 어떤 무수히 많은 사람들이 월드 나라의 지도를 그리기 위해서, 어떤 시작 도시로부터 도착 도시까지 출발을 하여 가능한 모든 경로를 탐색한다고 한다.<br/>
이 지도를 그리는 사람들은 사이가 너무 좋아서 지도를 그리는 일을 다 마치고 도착 도시에서 모두 다 만나기로 하였다. 그렇다고 하였을 때 이들이 만나는 시간은 출발 도시로부터 출발한 후 최소 몇 시간 후에 만날 수 있는가? 즉, 마지막에 도착하는 사람까지 도착을 하는 시간을 의미한다.<br/>
어떤 사람은 이 시간에 만나기 위하여 1분도 쉬지 않고 달려야 한다. 이런 사람들이 지나는 도로의 수를 카운트 하여라.<br/>
출발 도시는 들어오는 도로가 0개이고, 도착 도시는 나가는 도로가 0개이다.<br/>


## 입력
첫째 줄에 도시의 개수 n(1 ≤ n ≤ 10,000)이 주어지고 둘째 줄에는 도로의 개수 m(1 ≤ m ≤ 100,000)이 주어진다. 그리고 셋째 줄부터 m+2줄까지 다음과 같은 도로의 정보가 주어진다. 처음에는 도로의 출발 도시의 번호가 주어지고 그 다음에는 도착 도시의 번호, 그리고 마지막에는 이 도로를 지나는데 걸리는 시간이 주어진다. 도로를 지나가는 시간은 10,000보다 작거나 같은 자연수이다.<br/>
그리고 m+3째 줄에는 지도를 그리는 사람들이 출발하는 출발 도시와 도착 도시가 주어진다.<br/>
모든 도시는 출발 도시로부터 도달이 가능하고, 모든 도시로부터 도착 도시에 도달이 가능하다.<br/>


## 출력
첫째 줄에는 이들이 만나는 시간을, 둘째 줄에는 1분도 쉬지 않고 달려야 하는 도로의 수가 몇 개인지 출력하여라.<br/>


## 예제 입력
7<br/>
9<br/>
1 2 4<br/>
1 3 2<br/>
1 4 3<br/>
2 6 3<br/>
2 7 5<br/>
3 5 1<br/>
4 6 4<br/>
5 6 2<br/>
6 7 5<br/>
1 7<br/>

## 예제 출력
12<br/>
5<br/>


## 풀이
단방향 그래프이고, 사이클이 없다고 했으므로 위상정렬 가능한 그래프이다.<br/>
그리고 시작지점에서 모든 노드로 갈 수 있고, 도착지점으로 모든 노드들이 갈 수 있다 했다.<br/>
그래서 시작지점을 A, 끝 지점을 Z라하면 다음과 같은 그래프 형태가 된다.<br/>

	    A
	  /  |  
	B   C
	|   /|
	D EF
	...
	| /
	Z

즉 원피스 만화에 나오는 위대한 항로 경로랑 비슷하다.<br/>
그래서 시작지점만 유일하게 차수가 0이된다.<br/>
이후 모든 지도를 조사한다고 했으므로 다음노드로 갈 때 가장 마지막에 도착하면 다음 노드를 넣는다.<br/>
이렇게 탐색 시간을 구하면 시간을 찾을 수 있다.<br/>


다음으로 1분도 쉬지 않고 달려야 하는 도로는 도착시간을 기록했으므로 역방향 탐색을 하는데,<br/>
해당 시간이 간선 시간인지 확인한 뒤 포함시키면 된다.<br/>
예를 들어 Z노드에 도착한 시간이 12고, Y에 도착한 시간이 10인 경우이고 Y -> Z로 2초 걸리는 간선이 있다고 하자.<br/>
그러면 Y -> Z로 가는 간선은 1분도 쉬지 않고 가야하는 간선에 포함된다.<br/>
이렇게 간선의 갯수를 세어주면 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/1948