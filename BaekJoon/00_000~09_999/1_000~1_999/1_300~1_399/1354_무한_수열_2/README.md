# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 다이나믹 프로그래밍
  - 자료 구조
  - 해시를 사용한 집합과 맵

## 제한조건
  - 시간 제한 : 10초
  - 메모리 제한 : 512 MB

## 문제
무한 수열 A는 다음과 같다.<br/>

  - Ai = 1 (i ≤ 0)
  - Ai = A⌊i/P⌋-X + A⌊i/Q⌋-Y (i ≥ 1)

N, P, Q, X, Y가 주어질 때, AN을 구하는 프로그램을 작성하시오.<br/>


## 입력
첫째 줄에 5개의 정수 N, P, Q, X, Y가 주어진다.<br/>


## 출력
첫째 줄에 AN을 출력한다.<br/>


## 제한
  - 0 ≤ N ≤ 10^13
  - 2 ≤ P, Q ≤ 10^9
  - 0 ≤ X, Y ≤ 10^9


## 힌트
⌊x⌋는 x를 넘지 않는 가장 큰 정수이다.<br/>


## 예제 입력
123 45 67 8 9<br/>

## 예제 출력
2<br/>


## 풀이
P, Q는 2이상인 자연수이다.<br/>
두 값으로 분할하면 1 / 2 이하로 줄어들고 2개로 분할된다.<br/>
이를 약 22번까지 분할까지 내려가면, 2^22 = 420만개 정도 나오고 값은 240만 이하가 된다.<br/>
중복방문을 허용하지 않는 dp의 경우 240만 이하의 값을 모두 찾는다 하고,<br/>
240만 이상이 420만개 있으므로 240만 + 420만 = 660만개를 조사하며 해결할 수 있다.<br/>


dp[i] = Ai인 dp라 하자.<br/>
j = (i / p) - x, k = (i / q) - y라 하면, 위 문제 조건으로 dp[i] = dp[j] + dp[k]가 된다.<br/>
여기서 i가 10^13까지 오므로 배열로하면 10^13이고 이는 40Tb 할당해 메모리 초과가 나온다.<br/>
그래서 Dictionary로 dp를 설정했다.<br/>
이후 DFS로 해당 점화식을 구현해 풀었다.<br/>
여기서 SortedDictionary(16초)로 제출하니 Dictionary(2초)보다 약 8배 시간차이가 났다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/1354