# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 그래프 이론
  - 그래프 탐색
  - 너비 우선 탐색
  - 깊이 우선 탐색
  - 이분 그래프

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 128 MB

## 문제
2007년 1월 9일(화)는 원장선생님의 말씀대로 어제와 같이 하루 일과를 팀플레이를 통해 하려고 한다. 이 날은 특별히 청팀과 백팀으로 두 팀을 나누어 팀전을 하려 한다. 하지만 어제 하루 팀플레이를 하면서, 서로 같은 팀을 하기 싫어하는 사람들이 생겼다.<br/>
이제 우리가 할 일은 다음과 같다. 사람들이 각각 싫어하는 사람들의 정보가 주어져 있을 때, 그 사람들의 요구를 수용하여 서로 싫어하는 사람은 같은 팀에 넣지 않으려 한다. 이 조건을 만족하여 n명의 사람들 두 팀으로 나누는 프로그램을 작성하여라.<br/>


## 입력
첫 줄에는 학생들의 수 n (1 ≤ n ≤ 100)이 주어진다. 그리고 둘째 줄부터 n+1번째 줄까지 서로가 싫어하는 사람들의 정보가 주어진다. i+1번째 줄에는 i번째 사람이 싫어하는 사람의 수와 싫어하는 사람들이 나온다.<br/>
모든 사람이 싫어하는 사람이 단 한 명도 없는 경우는 없다.<br/>


## 출력
첫줄에는 청팀의 사람의 수를 출력하고, 그리고 둘째 줄에는 청팀에 속한 사람들을 오름차순으로 나열한다. 그리고 셋째 줄과 넷째 줄은 위와 같은 방법으로 백팀에 속한 인원의 수, 백팀에 속한 사람들을 출력한다. 단 답이 여러 가지 일 경우에는 한 가지만 출력하여도 좋다.<br/>


## 예제 입력
5<br/>
1 3<br/>
1 5<br/>
2 1 4<br/>
1 3<br/>
1 2<br/>


## 예제 출력
3<br/>
1 4 5<br/>
2<br/>
2 3<br/>


## 힌트
  1. 팀을 나누는 것이 불가능 한 경우는 없다고 하자.
  2. 만약에 A가 B를 싫어하면 B도 A를 싫어한다.
  3. 팀의 인원수는 고려하지 않아도 좋다. (99명과 1명을 나누어도 상관이 없다) 단, 각 팀에는 최소 1명의 사람이 있어야 한다.


## 풀이
힌트에서 팀을 나누는게 불가능한 경우는 없다고 한다.<br/>
노드에 팀색상을 부여하고 싫어하는 사람을 가리키는 것을 간선으로 봤을 때 그래프는 이분그래프이다.<br/>


이분 그래프의 방법으로 아직 팀 배정이 안된 인원에 대해 청팀을 줘도 된다.<br/>
이후 해당 사람과 방문안된 싫어하는 사람은 백팀을 준다.<br/>
그리고 아직 방문 안된 사람들에 한해 백팀을 받은 사람을 싫어하는 사람들에 다시 청팀을 준다.<br/>
이렇게 DFS로 팀을 나눠갔다.<br/>
그리고 해당 그래프를 모두 조사했을 경우 아직 배정안된 사람이 있는지 확인하고 다시 앞과 같은 방법으로 진행했다.<br/>


이렇게 나눠진 팀에 대해 청팀의 인원을 세어 출력하고, 청팀인 사람들을 출력했다.<br/>
이후 전체에서 청팀의 인원을 빼서 청팀이 아닌 인원을 출력하고 청팀이 아닌 사람들을 출력했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/1953