# C#

## 난이도 : 골드 3

## 알고리즘 분류
  - 다이나믹 프로그래밍

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 128 MB

## 문제
1 × N 크기의 긴 밭에 벼가 심어져 있다. 준희는 이 벼를 수확 하려고 한다. 그런데 가운데 있는 벼를 수확을 하려면 끝에서 가운데까지 헤집고 들어가야 하므로 양 끝에 있는 벼만 수확을 할 수 있다. 처음에는 첫 번째와 N번째 벼를 수확을 할 수 있을 것이며 만약에 첫 번째 벼를 수확을 하였다면 두 번째 벼와 N번째 벼를 수확을 할 수 있다.<br/>
수확을 하였을 때 얻을 수 있는 이익은 다음과 같다. 만약에 그 벼의 가치가 v(i)라고 하고 그 벼를 k번째로 수확을 한다고 하면 v(i) × k 만큼의 이익을 얻게 된다.<br/>
만약에 벼의 가치가 차례로 1 3 1 5 2 라고 하고 첫 번째, 다섯 번째, 두 번째, 세 번째, 네 번째의 순서대로 수확을 한다고 하면 1×1 + 2×2 + 3×3 + 4×1 + 5×5 = 43 이 되어 43 만큼의 이익을 얻게 된다. 그리고 이 값이 저 벼로 얻을 수 있는 최대 이익이 된다.<br/>
우리가 구해야 할 값은 다음과 같다. 벼의 개수 N과 벼의 가치가 주어져 있을 때, 얻을 수 있는 최대 이익을 구하는 프로그램을 작성하시오.<br/>


## 입력
첫째 줄에 벼의 개수 N(1 ≤ N ≤ 2,000)이 주어지고 두 번째 줄부터 N+1번쨰 줄까지 벼의 가치 v(i) (1 ≤ v(i) ≤ 1,000) 가 주어진다.<br/>


## 출력
첫째 줄에 얻을 수 있는 최대 이익을 출력한다.<br/>


## 예제 입력
5<br/>
1<br/>
3<br/>
1<br/>
5<br/>
2<br/>


## 예제 출력
43<br/>


## 풀이
dp[s][e] = val를 시작지점이 s이고 끝지점이 e인 경우 수확할 때 최댓값을 val이라 한다.<br/>
그러면 e < s인 경우는 불가능한 상황이다. 탈출 조건 중 하나로 놓고 dp[s][e] = 0로 한다.<br/>
그리고 n < s인 경우나 e < 1인 경우도 불가능하다.<br/>


그러면 다음과 같은 점화식을 얻는다.<br/>
dp[s][e] = max(dp[s + 1][e] + (s를 수확), dp[s][e - 1] + (e를 수확))<br/>
이를 DFS로 구현했다.<br/>


이미 탐색한 경우면 해당 값을 반환해서 중복 탐색을 막는다.<br/>
그러면 많아야 dp의 크기 n * n만큼 확인한다.<br/>
그리고 n ≤ 2000이고, 가치의 최댓값은 1000이므로 전체 최댓값은 1000 x (1 + 2 + 3 + ... 2000) = 1_000_000 x 2_001이므로 int 범위 안이다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/1823