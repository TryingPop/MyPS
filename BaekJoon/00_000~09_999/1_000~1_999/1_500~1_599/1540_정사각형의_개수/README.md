# C#

## 난이도 : 골드 3

## 알고리즘 분류
  - 수학

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 128 MB

## 문제
세준이는 2차원 평면에 N개의 점을 찍었다. 그리고 나서 정사각형의 개수를 세려고 한다.<br/>
정사각형의 개수란, 세준이가 찍은 서로 다른 N개의 점을 꼭짓점으로 하며, 모든 변은 축에 평행한 서로 다른 정사각형을 모두 센 것이다.<br/>
세준이는 정사각형의 개수를 최대로 하려고 한다.<br/>
N이 주어졌을 때, 정사각형의 개수의 최댓값을 구하는 프로그램을 작성하시오.<br/>


## 입력
첫째 줄에 N이 주어진다. 이 값은 0보다 크거나 같고, 1000000보다 작거나 같은 값이다.<br/>


## 출력
첫째 줄에 정사각형의 개수의 최댓값을 출력한다.<br/>


## 예제 입력
115<br/>


## 예제 출력
340<br/>


## 풀이
점들로 만들어진 사각형에서 내부의 점을 빼서 다른 외부에 옮기는 경우 정 사각형의 갯수는 늘어나지 않음을 알 수 있다.<br/>
그래서 점을 놓는다면 사각형의 내부를 꽉 채우는 형태로 이어붙여간다.<br/>


이제 N개로 내부를 꽉 채운 형태로 사각형을 만들어간다.<br/>
그리고 만들어진 직사각형의 한 변의 길이는 √N을 넘지 못한다.<br/>


해당 짧은 길이를 w라 할 때, 직사각형을 이루는 최대 h를 찾는다. 그리고 나머지 부분을 r이라 한다.<br/>
그러면 가능한 정사각형의 갯수는 (∑ (w - i) * (h - i)) + (r - 1) * r / 2가 됨을 알 수 있다.<br/>


여기서 모든 w에 대해 조사해도 N이 100만으로 가능한 w는 √N까지이므로 1000번 조사를 하고<br/>
∑연산이 있어도 N을 넘지 않으므로 O(N^2)에 정답을 찾을 수 있다.<br/>


그런데 해당 식을 풀어보면 산술 - 기하 평균으로 만드는 직사각형이 정사각형에 가까워질수록 많아짐을 확인할 수 있다.<br/>
그래서 w ≤ √N인 가장 큰 w에 대해 (∑ (w - i) * (h - i)) + (r - 1) * r / 2식으로 정답을 구해서 풀었다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/1540