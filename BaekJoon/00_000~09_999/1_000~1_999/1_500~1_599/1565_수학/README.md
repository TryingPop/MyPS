# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 수학
  - 정수론
  - 유클리드 호제법
  - 소인수분해

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 128 MB

## 문제
배열 D와, 배열 M이 주어졌을 때, D에 있는 모든 수의 배수이며, M에 있는 모든 수의 약수인 수의 개수를 구하는 프로그램을 작성하시오.<br/>


## 입력
첫째 줄에 D의 크기와 M의 크기가 주어진다. 둘째 줄에 배열 D, 셋째 줄에 배열 M이 주어진다. D와 M의 크기는 50보다 작거나 같고, 그 속에 들어있는 수는 모두 10^9보다 작거나 같은 양의 정수이다.<br/>


## 출력
첫째 줄에 개수를 출력한다.<br/>


## 예제 입력
3 1<br/>
1000 10000 100000<br/>
1000000000<br/>


## 예제 출력
25<br/>


## 풀이
우리가 찾는 수는 M에 있는 모든 수의 약수라는 말은 M의 최대공약수의 약수와 동치이다.<br/>
그래서 M의 GCD를 찾는다. 여기서 GCD는 최대공약수 Greatest Common Divisor의 약자로 썼다.<br/>


입력에서 주어지는 값은 10억이하이므로 M의 GCD는 10억 이하가 보장된다.<br/>
이제 해당 M의 GCD가 D에 있는 모든 수의 배수가 아니라면 정답은 존재하지 않고 배수인 경우 해가 존재한다.<br/>
그래서 M의 GCD가 D에 있는 모든 수의 배수인지 확인한다.<br/>


배수인 경우 D의 최소 공배수 LCM은 GCD의 약수이므로 10억 이하임이 보장된다.<br/>
여기서 LCM은 최소공배수 Least Common Multiple의 약자로 썼다.<br/>


A와 B의 GCD를 gcd라 하고 LCM을 lcm이라 하면 lcm = A x B / gcd가 된다.<br/>
A, B의 LCM이 int 범위인 경우 A x (B / gcd)로 하면 int 범위로 연산이 가능하다.<br/>
이를 이용해 D의 LCM을 찾는다.<br/>


이제 D의 LCM과 M의 GCD를 찾고 이를 만족하는 경우는 소인수분해해서 인자의 갯수로 찾으면 된다.<br/>


만약 LCM을 먼저 찾고 GCD를 찾으려고 시도하는 경우 long 범위를 벗어날 수 있다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/1565