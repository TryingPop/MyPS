# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 다이나믹 프로그래밍
  - 브루트포스 알고리즘
  - 배낭 문제

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
카오는 오랫동안 메이플스토리를 플레이하며 N개의 캐릭터를 육성하였다.<br/>
지속적인 스펙업을 위해 꾸준하게 메소를 벌어야 할 필요성을 느낀 카오는, 지금까지 키워온 캐릭터들을 활용하여 메소를 벌기로 하였다. 여러 캐릭터로 보스를 효율적으로 잡기 위해, 하루에 한 캐릭터 당 최대 15분씩, 최대 M개의 캐릭터만 보스를 잡기로 하였다.<br/>
캐릭터가 보스에게 데미지를 넣으면 보스의 체력이 데미지만큼 감소하며, 보스의 체력이 0 이하가 되면 보스를 잡게 된다. 데미지의 계산은 매초 이루어지기 때문에, 1초 미만의 시간 동안 적용된 데미지는 보스에게 적용되지 않는다.<br/>
캐릭터마다 주어진 15분 동안은 매초 일정한 데미지를 넣을 수 있으며, 보스를 잡은 후 다른 보스를 잡으러 떠나는 시간은 계산하지 않는다. 캐릭터마다 각 보스는 1회씩만 처치할 수 있으며, 다른 캐릭터가 잡은 보스라도, 현재 캐릭터가 잡지 않은 보스라면 잡을 수 있다. 보스를 잡던 도중 캐릭터를 변경하는 것은 불가능하며, 캐릭터가 상대하는 보스의 체력은 공유되지 않아, 오롯이 한 캐릭터의 힘으로 보스를 상대해야 한다.<br/>
보스 몬스터의 체력, 보상 메소 정보와 캐릭터의 데미지 정보가 주어질 때, 카오가 계획에 맞추어 하루에 보스를 잡아 얻을 수 있는 최대 메소를 구해보자.<br/>


## 입력
첫 줄에는 보유한 캐릭터의 개수 N, 하루에 사용할 캐릭터의 개수 M, 보스의 가짓수 K가 공백으로 구분되어 주어진다. (1 ≤ M ≤ N ≤ 49; 1 ≤ K ≤ 13)<br/>
그다음 N줄에 걸쳐서 캐릭터가 1초에 가하는 데미지 D가 주어진다. (1 ≤ D ≤ 10^11)<br/>
그다음 K줄에 걸쳐서 보스의 체력 P와 보스를 처치했을 때 드랍하는 메소 Q가 공백으로 구분되어 주어진다. (1 ≤ P ≤ 2.66 x 10^11; 1 ≤ Q ≤ 1,596,506)<br/>
입력으로 들어오는 모든 수는 정수임이 보장된다.<br/>


## 출력
카오가 계획에 맞추어 보스를 잡았을 때, 하루에 보스를 잡아 얻을 수 있는 최대 메소를 출력한다.<br/>


## 예제 입력
3 2 3<br/>
1<br/>
2<br/>
3<br/>
900 30<br/>
1800 40<br/>
2700 50<br/>


## 예제 출력
110<br/>


## 힌트
다음 경우에 110메소를 획득할 수 있다.<br/>

  - 2번째 캐릭터로 15분에 걸쳐 2번째 보스를 잡아 40메소 획득
  - 3번째 캐릭터로 5분에 걸쳐 1번째 보스를 잡아 30메소 획득
  - 3번째 캐릭터로 10분에 걸쳐 2번째 보스를 잡아 40메소 획득


## 풀이
캐릭은 49개까지 있고, 보스 잡는 시간은 900으로 작고 보스는 13마리를 넘지 않는다.<br/>
그래서 각 캐릭에 배낭형식으로 보스를 잡았을 때 최대 메소를 담기게 해도 49 x 900 x 13 ≤ 10만으로 충분하다.<br/>
이에 각 캐릭별로 배낭 문제처럼 15분간 얻을 수 있는 최대 메소를 찾는다.<br/>
이후 돈을 가장 많이 버는 m명을 누적해서 출력하면 된다.<br/>


처음에는 메소를 찾고 n명 중 m명을 dfs로 찾아 더하면서 최댓값을 찾았는데 시간초과 났다.<br/>
최악의 경우 49C24니 자명하다.<br/>
그래서 메소를 찾고 m명의 최대값을 찾는데 dp[i][j] = val를 i번째 캐릭까지 확인하고 선택한 캐릭의 갯수가 j일 때 최댓값을 val 형식으로 제출해 통과했다.<br/>


이후 다시 생각해보니 그리디로 돈 많이 버는 캐릭 m개만 출력하면 된다하고 캐릭별 메소를 내림차순 정렬한 뒤 앞에서 m개를 누적해 제출해 통과했다.<br/>
다른 사람의 풀이를 보니, 데미지와 돈이 비례 관계임을 이용해 풀고 데미지에 한해 내림차순 정렬한 뒤 가장 큰 m명의 메소만 계산한게 있었다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/29792