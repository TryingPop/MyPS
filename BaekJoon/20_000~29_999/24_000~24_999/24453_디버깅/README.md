# C#

## 난이도 : 골드 3

## 알고리즘 분류
  - 두 포인터

## 제한조건
  - 시간 제한 : 0.6초
  - 메모리 제한 : 512 MB

## 문제
인규는 자동으로 코드를 생성해주는 프로그램을 이용해 코드를 작성하곤 한다.<br/>
하지만, AI는 완벽하지 않기 때문에 자동으로 생성된 코드에 오류가 있을 수도 있다.<br/>
따라서 인규는 코드를 자동으로 생성한 뒤, 코드를 한 줄씩 읽으면서 오류를 찾는 과정을 거친다.<br/>
인규가 쓰는 코드 에디터는 매우 똑똑해서 작성된 코드에서 오류가 없는 연속된 X줄이 존재한다면, 특정 커맨드를 통해 나머지 오류를 자동으로 해결할 수 있다. 즉, 인규는 자동으로 생성된 코드를 전부 수정하지 않고도 프로그램을 완성할 수 있다.<br/>
다만, 인규는 코드 에디터에 의존하는 것을 싫어하기 때문에, 오류를 Y개 이상 찾아 해결한 뒤에만, 에디터의 오류 해결 기능을 이용하려 한다.<br/>
두 음이 아닌 정수 X, Y 그리고 자동으로 생성된 코드에서 오류가 있는 줄 번호가 주어질 때, 에디터가 해결할 오류 개수의 최댓값을 구하는 프로그램을 작성하시오.<br/>
단, 한 줄에는 최대 한 개의 오류만 존재한다.<br/>


## 입력
첫 줄에는 자동으로 작성된 코드 줄의 수 N과 오류가 있는 줄의 개수 M이 주어진다. (1 ≤ N ≤ 2 x 10^7, 1 ≤ M ≤ min(N x 10^5))<br/>
두 번째 줄에는 코드에서 오류가 있는 줄의 번호 M개가 공백으로 구분되어 주어진다.<br/>
다음 줄에는 정수 X, Y가 공백으로 구분되어 주어진다. (0 ≤ X ≤ N, 0 ≤ Y ≤ M)<br/>


## 출력
에디터가 해결할 오류 개수의 최댓값을 출력한다.<br/>


## 예제 입력
5 4<br/>
1 3 4 5<br/>
2 2<br/>


## 예제 출력
2<br/>


## 풀이
에디터가 해결할 오류 개수의 최댓값은 인규가 최소한으로 오류를 수정해 에디터를 활용하는 것과 같다.<br/>
그래서 에디터를 사용할 수 있는만큼 최소한으로 오류를 수정하는 경우의 수를 찾는다.<br/>


에디터를 사용하려면 다음 두 가지 조건을 지켜야 한다.<br/>

  1. 연속된 x줄에 대해 오류가 없어야 한다.
  2. 인규가 오류 수정을 최소 y개 이상 해야 한다.


에디터 사용 1번 조건에 맞춰 연속된 x 코드 줄에 오류가 없게 최소한의 오류를 수정하는 것이다.<br/>
그래서 슬라이딩 윈도우를 이용해 연속한 x줄에 대해 최소 오류 갯수 min을 찾는다.<br/>


이는 먼저 1 ~ x줄까지 오류의 갯수를 찾는다.<br/>
이제 끝 지점을 x + 1, x + 2,... , n인 경우를 조사하는데, 각 끝지점에 오류가 있으면 각 줄에는 많아야 1개의 오류가 있으므로 전체 오류 갯수에 1을 추가한다.<br/>
그리고 시작지점도 1을 늘리는데 이전 시작 지점에 오류가 있다면 빠지는 것이므로 전체 오류 갯수에 1을 뺀다.<br/>
이후 현재 오류 갯수의 최솟값과 min의 값을 비교하며 갱신해가며 끝지점이 n이 될때까지 min 값을 갱신해가면 된다.<br/>


이렇게 찾은 최소 오류 갯수 min이 y를 넘지 않는다면 y개가 될때까지 아무 오류를 제거하면 된다.<br/>
반면 min이 y개 이상인 경우 해당 오류만 수정하는 것이 최소이다.<br/>


이렇게 최소 오류를 수정한다.<br/>
초기 전체 오류 갯수 m이라 하면 m - min의 값이 에디터가 해결할 오류 개수의 최댓값이 된다.<br/>
이렇게 정답을 찾았다.<br/>


해당 경우 코드 줄 n은 2 x 10^7이하 이다.<br/>
bool 배열로 위치를 표시하면 2 x 10^7 바이트를 사용하고 이는 메모리 제한 512mb를 넘지 않는다.<br/>
슬라이딩 윈도우와 두 포인터를 사용하면 O(n)에 찾을 수 있다.
이는 n이 2 x 10^7이하이므로 O(n)은 0.6초안에 풀 수 있다.<br/>


만약 n의 범위가 더 큰 경우 오류 갯수 m에 초점을 맞춰 해결할 것이다.<br/>
후술하는 방법은 코드 구현이 복잡해져 여기서는 사용하지 않았다.<br/>


오류가 있는 곳을 먼저 오름차순으로 정렬한다.<br/>
정렬한뒤 i번째 오류 위치를 ei라 하자.<br/>
그리디로 4가지 경우를 비교할 것이다.<br/>

  1. ei를 시작으로 하는 경우
  2. ei + 1을 시작으로 하는 경우
  3. ei를 끝으로 하는 경우
  4. ei - 1을 끝으로 하는 경우

각각의 경우에 대해 최소 오류 포함을 슬라이딩 윈도우와, 두 포인터로 찾는다.<br/>
그리고 이중 최소가 연속된 x 줄 중 최소가 됨을 그리디로 알 수 있다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/24453