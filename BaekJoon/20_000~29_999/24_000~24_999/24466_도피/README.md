# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 수학
  - 다이나믹 프로그래밍
  - 확률론

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 512 MB

## 문제
감옥에서 탈출한 병준이는 경찰에 잡히지 않기 위해 도망 다니고 있다. 병준이를 잡기 위해 경찰은 N개의 도시에 병력을 파견할 것이다. 이때 병준이가 있을 확률이 높은 도시에 더 많은 병력을 파견할 것이고, 이에 따라 각 도시에 병준이가 있을 확률을 구해야 한다.<br/>
경찰은 병준이가 하루 동안 각 도시를 이동할 확률을 알고 있다. 확률에 따라 병준이가 탈옥한 날로부터 9일이 지난 후, 병준이가 어느 도시에 있는지 구하려고 한다.<br/>
아래 예제를 예로 들어 보자. 0번 도시에 감옥이 있고, 각 도시에서 다른 도시로 이동할 확률이 나타나 있다.<br/>
병준이가 탈옥한 지 하루가 지났다면, 1번 도시에 있을 확률은 50%, 6번 도시에 있을 확률도 50%이다.<br/>
병준이가 탈옥한 지 이틀이 지났다면, 2번 도시에 있을 확률은 40%, 3번 도시에 있을 확률은 50%, 4번 도시에 있을 확률은 10%이다.<br/>
병준이의 탈옥 9일이 지난 후, 병준이가 있을 확률이 가장 높은 도시와 그 확률을 구하는 프로그램을 작성하시오.<br/>
감옥은 항상 0번 도시에 존재한다.<br/>

## 입력
첫 번째 줄에 도시의 수 N, 이동 가능한 경로의 수 M이 주어진다. (2 ≤ N ≤ 100, 1 ≤ M ≤ N^2)<br/>
두 번째 줄부터 M줄에 걸쳐 다음과 같이 3개의 정수가 입력으로 주어진다.<br/>
u v w: u 도시에 있는 병준이는 v 도시로 이동할 확률이 w%이다. (0 ≤ u, v < N, 0 ≤ w ≤ 100)<br/>
모든 도시에 대하여 다음 도시로 이동할 확률의 합은 100%이다. 이동 전과 이동 후의 도시가 같을 수 있다.<br/>

## 출력
출력의 첫 번째 줄에 병준이가 있을 확률이 가장 높은 도시의 번호를 출력한다. 이러한 도시가 여럿인 경우, 공백으로 구분하여 오름차순으로 출력한다.<br/>
출력의 두 번째 줄에 병준이가 해당 도시에 있을 확률을 소수점 아래 18자리까지 출력한다. 실수 오차는 허용되지 않는다. 결과가 소수점 아래 19자리 이상인 경우, 소수점 아래 19자리에서 내림한다.<br/>

## 예제 입력
9 16<br/>
0 1 50<br/>
0 6 50<br/>
1 2 80<br/>
1 4 20<br/>
2 0 10<br/>
2 5 90<br/>
3 0 30<br/>
3 4 70<br/>
4 5 60<br/>
4 7 40<br/>
5 8 100<br/>
6 3 100<br/>
7 6 80<br/>
7 8 20<br/>
8 5 20<br/>
8 6 80<br/>

## 예제 출력
8<br/>
0.242078400000000000<br/>

## 풀이
날짜별로 모든 간선을 통해 확률을 이전 시킬 경우<br/>
경우의 수를 생각하니 9 x (n + m) < 1_000_000 이므로 시뮬레이션 돌릴만하다 판단했다.<br/>
그래서 시뮬레이션 돌렸다.<br/>
19자리 이하의 확률은 내림한다고 했고 확률 연산에서 19자리는 19자리에만 영향을 주기에<br/>
발견되는 즉시 내림을 했다.<br/>
그리고 18자리 오차를 허용하면 안되는데 double은 15 ~ 16자리니 적용하지 못한다.<br/>
decimal은 20자리 이상 지원하니 decimal로 풀어도 되나<br/>
long으로도 해결이 가능해 long으로 해결했다.<br/>
확률의 값은 0 ~ 100이므로 바로 w를 곱해주는 연산을 한다면 오버플로우가 발생한다.<br/>
그래서 100으로 나눈 뒤 w를 곱해주면 0 ~ 100자리의 오차부분이 생길 수 있어<br/>
분배 법칙으로 100이하 부분을 따로 계산해 더해주는 식으로 오차를 조절했다.<br/>

## 문제 링크
https://www.acmicpc.net/problem/24466