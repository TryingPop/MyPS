# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 수학
  - 조합론

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
В городском зоопарке содержатся животные n разных видов. Для участия в международной выставке <<Три твари>> зоопарк должен представить трех животных различных видов. Теперь служителей зоопарка интересует, сколькими способами можно выбрать трех животных для участия в выставке.<br/>
Например, если в зоопарке два медведя, тигр, лев и пингвин, то есть семь способов выбрать трех животных:<br/>


  1. первый медведь, тигр и лев;
  2. первый медведь, тигр и пингвин;
  3. первый медведь, лев и пингвин;
  4. второй медведь, тигр и лев;
  5. второй медведь, тигр и пингвин;
  6. второй медведь, лев и пингвин;
  7. тигр, лев и пингвин.


## 입력
В первой строке входного файла содержится натуральное число n --- количество видов животных в городском зоопарке (1 ≤ n ≤ 10^5).<br/>
В каждой из следующих n строк содержится одно натуральное число --- количество животных соответствующего вида. Общее число животных в зоопарке не превышает 10^5.<br/>


## 출력
В выходной файл выведите количество способов выбрать трех животных для международной выставки.<br/>


## 예제 입력
4<br/>
2<br/>
1<br/>
1<br/>
1<br/>


## 예제 출력
7<br/>


## 풀이
먼저 동물의 합은 10만마리를 넘지 않는다.<br/>
중복을 포함해 3마리를 선택하는 경우보다 작고 (10^5)^3 = 10^15다.<br/>
서로 다른 동물 3개를 선택하기에 해당 중복을 포함한 경우보다 작다.<br/>
정답은 long 범위 안이다.<br/>


서로 다른 3개의 동물을 고른 뒤 경우의 수를 누적해서 찾을 수 있다.<br/>
해당 경우 3중 for문을 이용하기에 O(n^3)의 시간이 걸린다.<br/>
n이 10^5까지 오므로 해당 방법은 시간 초과 난다.<br/>
효율적인 방법이 필요하다.<br/>


3중 for문이 작동하는 방법을 보면 다음과 같다.<br/>
우선 동물이 5 종류인 경우를 보자.<br/>
각 동물의 수는 a1, a2, a3, a4, a5라 하자.<br/>


그러면 1번을 포함한 경우의 수 b1는 다음과 같다.<br/>
b1 = a1 x (a2 x a3) + a1 x (a2 x a4) + a1 x (a2 x a5)<br/>
\+ a1 x (a3 x a4) + a1 x (a3 x a5)<br/>
\+ a1 x (a4 x a5) 이다.<br/>


다음 1번을 제외하고 2번을 포함한 경우의 수 b2는 다음과 같다.<br/>
b2 = a2 x (a3 x a4) + a2 x (a3 x a5)<br/>
\+ a2 x (a4 x a5) 이다.<br/>


그리고 1번과 2번을 제외하고 3번을 포함한 경우의 수 b3는 다음과 같다.<br/>
b3 = a3 x (a4 x a5) 이다.<br/>


ci = bi / ai라 하자.<br/>
c3와 c2를 보면 c3 = a4 x a5이고, c2 = ((a3 x a4) + (a3 x a5)) + (a4 x a5) 이다.<br/>
공통적으로 c3 = a4 x a5가 각 포함되어 있다.<br/>


그리고 c2와 c1를 똑같이 보면 공통적으로 c2 = a4 x a5 + a3 x a4 + a3 x a5가 포함됨을 알 수 있다.<br/>
즉 cn에 대해 ci 은 c(i+1)을 포함하고 있다.<br/>
ci의 값을 찾을 수 있다면 ai을 곱해 bi을 찾을 수 있다.<br/>


그리고 위 식을 잘 보면 ci = c(i+1) + a(i+1) x (a(i+2) + a(i+3) + ... an) 점화식을 얻을 수 있다.<br/>
cn = c(n-1) = 0, c(n-2) = an x a(n-1)을 얻을 수 있다.<br/>


for문을 이용해 cn에서 시작해 각 ci를 dp와 누적합으로 찾은 뒤 bi를 구했다.<br/>
그리고 정답은 ∑bi이므로 해당 값을 찾아 제출했다.<br/>
해당 경우 O(N)에 해결가능하다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/21428