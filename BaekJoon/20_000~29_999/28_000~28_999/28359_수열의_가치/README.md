# C#

## 난이도 : 골드 5

## 알고리즘 분류
  - 그리디 알고리즘
  - 정렬
  - 애드 혹
  - 해 구성하기

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 1024 MB

## 문제
어떤 정수 수열 X의 가치는 다음과 같이 정의된다:<br/>

  - X에서 감소하지 않는 부분 수열 P와 증가하지 않는 부분 수열 Q를 임의로 선택했을 때, (P의 모든 원소의 합) + (Q의 모든 원소의 합)의 최댓값

길이가 N인 정수 수열 A가 주어진다. A를 원하는 대로 재배열하여 수열의 가치를 최대화하고 싶다. 재배열하여 만들 수 있는 수열의 가치의 최댓값과 이 때의 수열을 찾아보자.<br/>
감소/증가하지 않는 부분 수열이 무엇인지 잘 모르는 친구들은 친절한 정휘가 준비한 아래 정의를 읽어보도록 하자.<br/>

  - 부분 수열이란 주어진 수열에서 1개 이상의 원소를 골라 원래 순서대로 나열하여 얻은 수열을 말한다.
  - 감소하지 않는 부분 수열은 맨 처음 원소를 제외한 모든 원소가 바로 이전 원소보다 크거나 같은 부분 수열을 말한다.
  - 증가하지 않는 부분 수열은 맨 처음 원소를 제외한 모든 원소가 바로 이전 원소보다 작거나 같은 부분 수열을 말한다.

어떤 수가 두 부분 수열 P와 Q 모두에 포함되도록 P와 Q를 선택할 수 있으며, 둘 모두에 포함된 수는 P의 원소의 합을 구할 때와 Q의 원소의 합을 구할 때 모두 더해진다.<br/>


## 입력
첫째 줄에 N이 주어진다. (1 ≤ N ≤ 1,000)<br/>
둘째 줄에 정수 A_1, A_2, ..., A_N이 공백으로 구분되어 주어진다. (1 ≤ A_i ≤ N)<br/> 


## 출력
A를 재배열하여 만들 수 있는 수열의 가치의 최댓값을 첫 번째 줄에 출력한다.<br/>
그 때의 수열 B_1, B_2, ..., B_N을 두 번째 줄에 공백으로 구분하여 출력한다. 가능한 수열이 여러 가지라면 그 중 아무거나 출력한다.<br/>


## 예제 입력
4<br/>
2 3 1 2<br/>

## 예제 출력
12<br/>
1 3 2 2<br/>


## 풀이
P는 증가하고, Q는 감소해야하니 공통 값은 많아야 1개이다.<br/>
그래서 공통 값은 값 x 갯수가 큰 걸 뽑으면 P + Q가 최대가 된다.<br/>
그래서 가장 큰 원소 a를 찾고 a를 끝으로 보낸 뒤 a 미만을 오름차순으로 나열하고,<br/>
뒤에 a 초과 원소들을 내림차순으로 나열해 재배열된 수열을 만들었다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/28358