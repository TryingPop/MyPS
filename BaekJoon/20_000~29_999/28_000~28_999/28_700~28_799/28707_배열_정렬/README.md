# C#

## 난이도 : 골드 1

## 알고리즘 분류
  - 자료 구조
  - 그래프 이론
  - 해시를 사용한 집합과 맵
  - 최단 경로
  - 데이크스트라
  - 트리를 사용한 집합과 맵

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
F길이가 N인 양의 정수로 이루어진 배열 A = [A_1, A_2, ..., A_N]이 주어집니다. 이 배열을 비내림차순, 즉, A_1 ≤ A_2 ≤ ... ≤ A_N이 되도록 정렬하기 위해서 다음과 같은 M가지 조작을 순서와 횟수에 상관 없이 원하는 만큼 할 수 있습니다.<br/>

  - A의 l_i번째 수와 r_i번째 수를 바꿉니다. 비용은 c_i가 듭니다. (1 ≤ i ≤ M)

A를 비내림차순으로 정렬하기 위해 필요한 비용 총합의 최솟값을 출력하세요.<br/>


## 입력
첫 줄에 배열 A의 길이 N이 주어집니다. (2 ≤ N  8)<br/>
둘째 줄에 A의 각 원소 A_1, ..., A_N이 공백으로 구분되어 주어집니다. (1 ≤ A_i ≤ 10)<br/>
셋째 줄에 조작의 개수 M이 주어집니다. (1 ≤ M ≤ 10)<br/>
다음 M개의 줄의 i번째 줄에 조작을 의미하는 세 개의 정수 l_i, r_i, c_i가 공백으로 구분되어 주어집니다. (1 ≤ l_i < r_i ≤ N; 1 ≤ c_i ≤ 10)<br/>


## 출력
첫 줄에 배열 A를 비내림차순으로 정렬하기 위해 필요한 비용 총합의 최솟값을 출력하세요. 단, 배열을 비내림차순으로 만드는 것이 불가능한 경우 대신 -1을 출력하세요.<br/>


## 예제 입력
4<br/>
1 4 3 2<br/>
4<br/>
1 2 4<br/>
2 3 3<br/>
3 4 2<br/>
1 4 10<br/>


## 예제 출력
7<br/>

## 힌트
3, 2, 3번 조작을 차례대로 사용하면 된다.<br/>


## 풀이
배열을 노드로 생각해야하고, 비 내림차순으로 가는 배열의 최단 경로를 찾아야 한다.<br/>
예제로 보면 1, 4, 3, 2 에서 1, 2, 4간선을 타고 이동하면 4, 1, 3, 2 배열로 가고 거리는 4가 된다.<br/>
이렇게 다익스트라를 하면 된다.<br/>


원소 크기가 10으로 작고 배열의 길이가 길어야 8이다.<br/>
원소를 각각 비트로 표현하면 4비트로 표현가능하고, 8개를 나열하면 32비트로 표현가능하다.<br/>
그래서 배열을 int로 변환해 풀었다.<br/>
수가 크다면 서로 다른 수는 많아야 8개이므로 좌표 압축을 해서 int로 변환하면 된다.<br/>


int로 저장하면 2^30가까이 커질 수 있어 거리 저장을 배열에 하기엔 무리가 있다.<br/>
그래서 dictionary를 이용해 다익스트라 알고리즘을 사용했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/28707