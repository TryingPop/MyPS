# C#

## 난이도 : 골드 3

## 알고리즘 분류
  - 이분 탐색
  - 누적 합
  - 두 포인터

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
크기 N의 1차원 양의 정수 배열로 이루어진 자벌레가 있다. 자벌레는 곤충이기 때문에 머리, 가슴, 배로 부위를 구분할 수 있다.<br/>
각 부위는 배열상에서 연속하는 구간으로 나타낼 수 있으며 배열상에서 머리는 왼쪽에, 가슴은 가운데에, 배는 오른쪽에 존재한다. 각 부위의 크기는 배열상에서 해당하는 구간의 값의 합으로 정의된다.<br/>
무지는 이 자벌레가 가슴이 배보다 크고 배가 머리보다 크다는 사실은 알고 있지만 어느 지점에서 머리 가슴 또한 가슴 배가 구분되는지 알지 못한다. 무지를 도와 구분될 수 있는 경우의 수를 구해주자.<br/>
엄밀하게는 다음 조건에 맞는 X, Y 쌍의 개수를 구해주자.<br/>
배열에 i번째 원소의 값을 A_i라 할 때<br/>


∑_{i=1}^{X} A_i < ∑_{i=Y+1}^{N} A_i < ∑_{i=X+1}^{Y} A_i, (1 ≤ X < Y < N)


## 입력
첫 줄에 정수 N이 주어진다. (3 ≤ N ≤ 1,000,000)<br/>
두 번째 줄에 배열의 값 A_1, A_2, ..., A_N이 공백으로 구분되어 주어진다. (1 ≤ A_i ≤ 100,000)<br/>


## 출력
자벌레의 머리 가슴 배가 구분될 수 있는 경우의 수를 구해 출력하자.<br/>


## 예제 입력
5<br>
3 4 12 1 8<br>


## 예제 출력
4<br>


## 풀이
∑_{i=1}^{X} A_i < ∑_{i=Y+1}^{N} A_i < ∑_{i=X+1}^{Y} A_i, (1 ≤ X < Y < N)인 X, Y 쌍의 갯수를 찾는 문제다.<br/>


먼저 머리 부분의 X를 고정 시킨다.<br/>
즉 고정된 X인 x에 1, 2, ..., N - 2값을 넣는다.<br/>


이제 최대 ∑_{i=1}^{x} A_i < ∑_{i=Y+1}^{N} A_i를 만족하는 Y의 최대 값 maxY를 찾는다.<br/>
f(x) = maxY라 하자.<br/>
그러면 f(x + 1) ≤ f(x)이 성립함을 알 수 있고, 누적합과 두 포인터를 이용해 빠르게 찾을 수 있다.<br/>
혹은 A_i > 0이므로 이분탐색을 이용해 찾아도 된다. 코드는 두 포인터로 찾았다.<br/>


x + 1에서 maxY 사이의 Y에 대해 ∑_{i=Y+1}^{N} A_i < ∑_{i=x+1}^{Y} A_i을 만족하는 y'가존재한다고 가정하자.<br/>
∑_{i=y'+2}^{N} A_i < ∑_{i=y'+1}^{N} A_i < ∑_{i=x+1}^{y'} A_i < ∑_{i=x+1}^{y' + 1} A_i<br/>
A_i > 0이므로 위가 성립한다.<br/>


이는 이분 탐색을 적용시킬 수 있다.<br/>
그래서 A_i의 값이 양수이므로 인 Y중 가장 작은 값 x + 1에서 maxY 사이의 minY을 이분 탐색으로 찾는다.<br/> 


그러면 앞과 같은 조건으로 minY ~ maxY 사이의 수들이 X = x에 대해 Y의 가능한 범위가 된다.<br/>
이를 누적하면서 가능한 (X, Y) 쌍의 갯수를 찾았다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/27651