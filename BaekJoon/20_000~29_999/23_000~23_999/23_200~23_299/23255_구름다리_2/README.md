# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 그래프 이론
  - 그리디 알고리즘

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
선린인터넷고등학교에는 여러 건물과 그 건물을 연결하는 구름다리가 있다.<br/>
구체적으로, 1번부터 N번까지의 번호가 붙은 건물 N개와, 서로 다른 두 건물을 잇는 구름다리 M개가 있다.<br/>
2019년도 천하제일 환경조경디자인대회 우승자인 정휘는 학교 건물들의 색깔이 너무 단조로워서 학교 생활이 너무 지루하다고 느꼈다.<br/>
그래서 정휘는 2021년도 우승자인 채완이를 고용해 학교 건물들의 외벽을 다시 칠하기로 했다. 구체적으로, 정휘는 N개의 건물 외벽을 다음 조건에 따라 칠하도록 요구했다.<br/>


  - 색은 1 이상의 정수로 표현한다.
  - 각 건물은 정확히 한 가지 색으로 칠한다.
  - 구름다리로 연결되어 있는 두 건물은 다른 색으로 칠한다.
  - 1번 건물부터 N번 건물까지의 색을 차례대로 나열했을 때, 사전순으로 가장 앞서도록 칠한다.

채완이가 각 건물의 외벽을 어떤 색으로 칠해야 하는지 알려주자.<br/>


## 입력
첫째 줄에 건물의 개수와 구름다리의 개수를 의미하는 N과 M이 주어진다.<br/>
둘째 줄부터 M개 줄에 걸쳐, 구름다리가 연결하고 있는 서로 다른 두 건물의 번호가 한 줄에 하나씩 주어진다.<br/>


## 출력
1번 건물부터 N번 건물까지 각 건물의 색을 공백으로 구분하여 한 줄에 출력한다.<br/>


## 제한
  - 1 ≤ N ≤ 100,000
  - 0 ≤ M ≤ 100,000


## 예제 입력
5 1<br/>
1 2<br/>


## 예제 출력
1 2 1 1 1<br/>


## 풀이
i번 건물에 i번 색을 칠하면 모든 건물은 구분이 된다.<br/>
그래서 해는 언제나 존재한다.<br/>


이 중 사전순으로 가장 앞서는 것은 앞에서부터 번호를 부여하는데 가능한 가장 낮은 걸 부여하면 사전순으로 앞선다.<br/>
그래서 해당 방법으로 부여하면 그리디로 가장 앞섬을 알 수 있다.<br/>


각 건물 i에 대해, i와 연결된 건물 중 번호가 작은 쪽(건물 j, j < i)에서 이미 사용된 색상은 i에서 사용할 수 없다.<br/>
따라서, i번 건물은 j < i 중 연결된 건물들이 사용한 색 번호를 제외하고 가장 작은 색 번호를 선택해야 한다.<br/>


반면 큰 쪽 건물로 향하는 다리는 현재 건물을 최대한 낮게 주고 고려하는 것이 사전 순으로 앞서기에 고려할 필요가 없다.<br/>


따라서 다리 정보는 큰 번호 건물에서 작은 번호 건물로만 연결하도록 저장했다. 그래야 이후 작은 번호 기준으로 필요한 정보만 고려할 수 있다.<br/>
이후 작은쪽의 색깔 번호를 우선순위 큐로 관리하며 가장 낮은 원소를 찾았다.<br/>


해당 방법으로 번호를 부여하며 진행했다.<br/>
그러면 전체 빌딩에 대해 많아야 log M번 연산을 M번만 한다.<br/>
그래서 시간 복잡도는 O(N + M log M)이 된다.<br/>


gpt의 조언을 들어보니 우선순위 큐보다는 배열로 관리하는 것이 좋아보인다.<br/>
그러면 시간 복잡도는 O(N + M)으로 줄일 수 있다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/23255