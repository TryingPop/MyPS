# C#

## 난이도 : 골드 2

## 알고리즘 분류
  - 그래프 이론
  - 많은 조건 분기
  - 평면 그래프

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
서울대학교 신공학관 옥상에는 커다란 정원이 있다. 이 정원에는 다섯 마리의 토끼가 각자 굴을 하나씩 파서 살고 있다. 이 다섯 개의 굴은 정오각형을 이루고 있으며, 시계 방향을 따라 순서대로 1번부터 5번까지의 번호가 붙어 있다.<br/>
이 토끼들은 소리로 소통을 하는데, 다른 굴까지 전해질 정도로 큰 소리를 내지는 못한다. 토끼들은 넘치는 공대 감성과 문제 해결 의식으로 새로운 통신 수단을 만들기로 했고, 마침내 주변의 잡동사니를 모아서 실 전화기를 만들어 냈다. 실 전화기는 실이 팽팽해야 진동을 온전히 전달할 수 있기 때문에, 하나의 실 전화기는 두 개의 굴 사이를 일직선으로 연결한다.<br/>
실 전화기의 문제는 두 전화기의 실이 겹치면 진동이 제대로 전달되지 않아 통신이 이뤄지지 않는다는 것이다. 전화기들의 높이가 서로 다르면 문제가 없겠지만, 토끼들은 키가 작아서 전화기의 높이를 자유롭게 조절할 수 없다. 따라서 이를 해결하려면 몇몇 토끼가 다른 적절한 위치로 굴을 옮겨야만 한다.<br/>
정원은 토끼들에게는 끝없는 평원처럼 느껴질 정도로 커다랗다. 따라서 각 토끼굴은 하나의 아주 작은 점으로 여길 수 있으며, 토끼굴을 옮길 때 새로운 굴의 위치에는 아무런 제약도 없다. 단, 굴을 다른 토끼굴과 완전히 같은 위치로 옮기거나, 굴을 옮긴 뒤에 전화기의 실이 다른 토끼굴 위를 지나가게 되어서는 안 된다.<br/>
현재 실 전화기의 배치가 주어질 때, 최소 몇 마리의 토끼가 굴을 옮겨야 실 전화기들이 서로 겹치지 않게 되는지 알아보자.<br/>


## 입력
첫째 줄에 토끼굴들 사이에 설치되어 있는 실 전화기의 개수 N(1 ≤ N ≤ 10)이 주어진다. 이후 N개의 줄에 걸쳐 각 전화기가 잇는 두 토끼굴의 번호가 공백으로 구분되어 주어진다.<br/>
각 전화기는 반드시 서로 다른 두 토끼굴을 연결하며, 어떤 두 토끼굴 사이에 여러 개의 실 전화기가 설치되어 있는 경우는 없다.<br/>


## 출력
첫째 줄에 모든 전화기의 실이 서로 겹치지 않도록 하기 위해 최소 몇 마리의 토끼가 굴을 옮겨야 하는지 출력한다. 만약 토끼들이 굴을 어떻게 옮기더라도 실이 겹치는 지점이 생긴다면 -1을 출력한다.<br/>


## 예제 입력
10<br/>
1 2<br/>
1 3<br/>
1 4<br/>
1 5<br/>
2 3<br/>
2 4<br/>
2 5<br/>
3 4<br/>
3 5<br/>
4 5<br/>


## 예제 출력
-1<br/>

## 풀이
토끼는 5마리만 존재한다. 먼저 토끼굴 이동이 필요한 경우부터 살펴봤다.<br/>
각 토끼에서 다른 토끼로 선분을 이었을 때 별표에 해당하는 선분들에서만 교차함을 확인할 수 있다.<br/>
그래서 별표에서 교차가 있으면 이동을 고려하고, 없으면 0회로 제출했다.<br/>


예제를 보면 10개 선분이 모두 존재하는 경우 토끼굴을 어떻게 옮겨도 해결불가능(-1)하다고 나와있다.<br/>
언제 해결 불가능한지 조사했다.<br/>
만약 N개의 선분에서 a회 이동으로 교차지점을 해결할 수 있다면, 해당 선분에서 1개를 제외한 경우도 a회 이하 이동으로 해결 가능하다.<br/>
여기서 외부 선분을 별표에 해당하지 않는 선분을 말하고, 내부 선분을 별표에 해당하는 선분이라 하자.<br/>


먼저 내부 선분을 1개 제거한 경우를 보면, 제거된 선분의 두 점을 A, B라 한다.<br/>
그러면 나머지 점들을 C, D, E라 하면 제거된 선분을 기준으로 1, 2개로 나뉜다.<br/>
여기서 1개 있는 점을 C라한다. 이제 D에서 A, B 중 먼 점을 B라 하자.<br/>
이제 D에서 선분 BC를 중심을 방향으로 선분 BC를 지나 정말 멀리 이동하면 1회의 토끼굴 이동으로 모든 교차지점이 해결될 수 있다.<br/>


다음으로 외부 선분 1개를 제거한 경우를 보면, 제거된 선분의 두 점을 A,B라 한다.<br/>
1개의 점을 어디로 이동시켜도 교차가 무조건 발생한다.<br/>
그리고 나머지 점들을 C, D, E라하고 이중 A 이어진 선분들에서 중앙에 있는 점을 D라하자.<br/>
그러면 A를 D방향으로 D를 통과해 아주 멀리 이동시키고, B를 C, D, E의 선분이 이루는 삼각형 내부로 옮기면 2회의 이동으로 교차지점이 해결된다.<br/>


이렇게 모든 선분이 있는 경우를 제외하고는 토끼굴 이동은 많아야 2번 안에 교차지점이 모두 해결된다.<br/>
그러면 언제 1개가 되는지 확인해야 한다.<br/>
내부 선분에 별표가 되지 않은 경우를 일일히 확인했지만,<br/>
만약 N개의 선분에서 a회 이동으로 교차지점을 해결할 수 있다면, 해당 선분에서 1개를 제외한 경우도 a회 이하 이동으로 해결 가능하다는 로직으로<br/>
1개가 됨을 확인할 수 있다.<br/>
그리고 별표가 만들어지는 경우면 2개가 되지 않을까 추론하고 2개로 제출했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/23039