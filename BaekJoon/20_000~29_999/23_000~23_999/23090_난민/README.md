# C#

## 난이도 : 플레티넘 5

## 알고리즘 분류
  - 자료 구조
  - 우선순위 큐

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
A나라에서 내전이 일어났다!<br/>
이 때문에 많은 내전 난민들이 B나라로 오게 되었고, B나라는 이들을 위해 난민촌을 건설해 주었다.<br/>
다음은 난민촌을 좌표평면으로 나타낸 그림이다. 파란색 선은 강, 빨간색 점은 난민의 거주 위치를 나타낸다.<br/>
난민촌에는 직선 x=0을 따라 흐르는 강이 하나 있다.<br/>
물을 얻기 위해서는 이 강을 이용해야만 하는데, 수질이 좋지 않아 정수시설을 설치하려고 한다.<br/>
하지만 예산 문제로 정수시설은 강의 한 지점에만 설치할 수 있기 때문에, 각 난민들이 정수시설에 도착하기 위한 이동거리의 합이 최소가 되는 위치에 정수시설을 설치하려고 한다.<br/>
지금 이 순간에도 난민들이 이주해 오고 있다. 난민촌에 사람들이 이주해 올 때마다, 정수시설을 설치해야 하는 위치와 그 때의 이동거리의 합을 갱신해 알려주자.<br/>
두 좌표 (x_1, y_1)와 (x_2, y_2)사이의 거리는 |x_1 - x_2| + |y_1 - y_2|로 계산한다.<br/>


## 입력
첫째 줄에 난민의 수 N이 주어진다.<br/>
이어서 N개의 줄에, i번째로 이주해온 난민의 위치 (x_i, y_i)가 공백으로 구분되어 주어진다.<br/>


## 출력
문제의 답을 공백으로 구분하여 N줄에 걸쳐 출력한다.<br/>
i번째 줄에, 1번째 부터 i번째까지 이주해온 난민들이 정수시설까지 이동하는 거리의 합이 최소가 되도록 하는 정수시설의 y좌표와, 그 때의 이동거리의 합을 공백으로 구분하여 출력한다.<br/>
만약 이를 만족하는 정수시설의 위치가 여러 곳이라면, y좌표가 가장 작은 지점을 출력한다.<br/>


## 제한
  - 1 ≤ N ≤ 10^5
  - -109 ≤ x_i, y_i ≤ 10^9, 모든 좌표는 정수이다.


## 예제 입력
3<br/>
3 0<br/>
-2 -1<br/>
0 1<br/>


## 예제 출력
0 3<br/>
-1 6<br/>
0 7<br/>


## 풀이
거리함수는 택시거리 함수이다.<br/>
그래서 정수시설 위치는 y 절댓값에만 영향을 받고, 정수시설의 위치는 난민 y위치들의 중앙값 중 작은 것이 된다.<br/>


그래서 현재까지 입력된 난민들의 중앙값을 알아야 한다.<br/>
이는 우선순위 큐 2개를 이용해 중앙값을 찾았다.<br/>


거리는 각 x와 0과의 거리의 누적과 난민 y들이 중앙값과의 거리가 된다.<br/>


x는 절댓값 함수로 변환한 뒤 값을 누적하면 된다.<br/>
y의 경우 중앙값보다 작은 경우 거리는 중앙값 - y이므로 y를 빼줘야 한다.<br/>
반면 y가 중앙값보다 큰 경우 y - 중앙값이므로 y를 더해준다.<br/>


우선순위 큐에 저장할 때 원소의 누적합이 저장되게 자료 구조를 만들면 된다.<br/>
여기서는 작은 쪽에 포함된 총합을 관리하는 minSum을 관리하고, 큰 쪽은 maxSum으로 관리했다.<br/>
그리고 작은쪽의 원소 갯수만큼 중앙값을 더하고, 큰쪽의 원소 갯수만큼 중앙값을 빼주면서 y의 누적합을 찾았다.<br/>
해당 경우 O(1)에 찾을 수 있다.<br/>


주의할 것은 좌표의 범위가 10^9까지이므로 int범위를 벗어날 수 있다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/23090