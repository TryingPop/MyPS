# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 다이나믹 프로그래밍
  - 그래프 이론
  - 그래프 탐색
  - 너비 우선 탐색

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
준석이와 상원이는 게임을 한다. 게임판 위에는 N개의 정점과 M개의 간선이 있다. 각 정점 위에는 컵이 하나씩 있고 그중 하나에는 공이 들어 있다. 모든 간선은 서로 다른 두 정점을 양방향으로 잇는다.<br/>
준석이가 컵을 섞으면 상원이는 공이 어디에 있는지 맞혀야 한다. 준석이는 간선으로 연결된 두 컵을 잡고 위치를 바꿀 수 있다.<br/>
상원이는 준석이의 화려한 손기술에 속아서 컵이 어떻게 움직였는지 까먹었다. 하지만 처음에 공이 들어있던 컵과 그 컵을 움직인 횟수는 기억하고 있다.<br/>
처음에 공이 들어있는 컵이 있던 정점과 그 컵이 움직인 횟수가 주어지면, 지금 공이 들어있는 컵이 있을 수 있는 정점들의 후보를 모두 찾아보자!<br/>


## 입력
첫 번째 줄에 정점 수 N, 간선 수 M, 게임 시작 시 공이 놓여있는 정점 번호 X, 공이 든 컵이 움직인 횟수 Y가 주어진다. (1 ≤ N, Y ≤ 10^3, 1 ≤ M ≤ 10^4, 1 ≤ X ≤ N)<br/>
다음 줄부터 M개의 줄 각각에 각 간선이 연결하는 두 정점의 번호가 주어진다. 정점의 번호는 1부터 N까지이다. 어떤 두 정점을 잇는 간선이 여러 개일 수 있다.<br/>


## 출력
공이 있을 수 있는 곳을 정점 번호가 작은 순서대로 한 줄에 출력한다.<br/>
가능한 후보가 없다면 -1을 출력한다.<br/>


## 예제 입력
6 6 1 2<br/>
1 2<br/>
2 3<br/>
3 4<br/>
4 5<br/>
5 6<br/>
6 1<br/>


## 예제 출력
1 3 5<br/>


## 풀이
A 노드에 2초에 도달했다면 아무 A와 인접한 노드로 이동한 뒤 A로 다시 돌아오는 경로로 이동하면 4, 6, 8, 10, ..., 2n초에 대해서 모두 A로 도달할 수 있다.<br/>
반면 홀수 시간에 대해서는 도달할 수 있음이 보장되지 않는다.<br/>
이에 그래프를 탐색하는데 짝수인 최소턴 도달 시간과 홀수인 최소턴 도달시간을 BFS로 조사한다.<br/>
그리고 음이 아닌 정수 k에 대해 X - 2k인 도달시간을 갖는 노드들을 찾아 문제 조건에 맞게 출력하면 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/23741