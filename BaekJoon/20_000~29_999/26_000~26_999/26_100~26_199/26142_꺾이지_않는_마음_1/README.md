# C#

## 난이도 : 플레티넘 5

## 알고리즘 분류
  - 다이나믹 프로그래밍
  - 그리디 알고리즘
  - 정렬

## 제한조건
  - 시간 제한 : 1.5초
  - 메모리 제한 : 1024 MB

## 문제
	"N = 10000은 괜찮다. 중요한 것은 꺾이지 않는 마음"

당신의 농장에는 N마리의 용이 자라고 있다. 각 용은 1부터 N까지 서로 다른 번호가 붙어 있다. 오늘을 1일이라고 할 때, 1일의 i번 용의 키는 H[i] 이다. 하루가 바뀌는 시점에 모든 용의 키가 D[i] 만큼 증가한다.<br/>
농장 밖에는 당신의 용을 탐하는 도둑이 날카로운 마법 화살로 용을 훔치려고 하고 있다. 도둑은 매일 최대 하나의 마법 화살을 쏠 수 있으며, 도둑이 쏜 마법 화살은 도둑이 원하는 용에 정확히 맞는다. 도둑이 마법 화살을 i번 용에 적중시켰다면, i번 용의 키는 0이 되며, 도둑은 마법 화살의 힘을 빌어 잘린 길이 (즉, 원래 용의 키) 만큼의 용 조각을 얻는다. 도둑은 마법 화살을 쏘지 않을 수도 있으며, 한번 마법 화살을 적중시킨 용에 나중에 다시 화살을 적중시킬 수도 있다.<br/>
당신의 용들은 마법 화살에 잘릴지언정 그 마음은 꺾이지 않는다. i번 용의 키가 0이 되었다 하더라도, 다음 날이 될 때 다시 키가 D[i] 만큼 증가할 것이다.<br/>
모든 1 ≤ k ≤ N에 대해, 도둑이 1일부터 k일까지 매일 최대 한 번 화살을 쏠 수 있다고 가정할 때 얻은 용의 길이 합의 최댓값을 구하여라.<br/>


## 입력
첫 번째 줄에 용의 수 N이 주어진다. (1 ≤ N ≤ 10,000)<br/>
이후 N개의 줄에 걸쳐 각 용의 정보가 두 정수 D[i], H[i]로 주어진다. (0 ≤ D[i] ≤ 10^6, 0 ≤ H[i] ≤ 10^12)<br/>


## 출력
N개의 줄을 출력하라. i번째 줄에는, k = i 일 때 문제의 정답을 하나의 정수로 출력하라.<br/>


## 예제 입력
3<br/>
7 15<br/>
3 5<br/>
1 5<br/>


## 예제 출력
15<br/>
27<br/>
42<br/>


## 풀이
같은 용을 2번 이상 쏠 수 있지만 2 번이상 쏘는 것은 좋지 못하다.<br/>
예를들어 a1, a2, ..., ak일에서 A번 용을 공격 했다고 가정하자.<br/>
a'1, a'2, .., a'k를 a1, a2, ..., ak를 정렬한 수열이라 하자.
그러면 각 점수는 H[A] + D[A] * a'1 + D[A] * (a'2 - a'1) + ... + D[A] * (a'k - a'(k-1)) = H[A] + D[A] * a'k이고 이는 a'k에 1번 쏘는 것과 같음을 알 수 있다.<br/>
그래서 가능하면 서로 다른 용을 때리는게 좋다.<br/>


그래서 k일에 때릴 용 k마리를 선택한다.<br/>
그런데 k -1일에서 효율이 좋다면 k일에서도 효율이 좋음을 알 수 있다.<br/>
이는 k일과 k - 1에 선택된 용의 차이는 1마리임을 뜻한다.<br/>
용이 선택되면 H값은 고정이므로 D가 작은순으로 빠른 날짜에 잡는게 좋다.<br/>


그래서 k일부터 시작하는데 효율이 1좋은 1마리 용을 찾아 빼는 식으로 구현한다.<br/>
효율은 해당 용을 빼면 줄어드는 효율의 최솟값으로 찾으면 된다.<br/>
예를들어 k일에 선택된 용중 i번째로 효율이 낮은 용 ai을 빼는 경우 H[ai] + D[ai] * i + (D[a(i+1)] + D[a(i+2)] + ... D[ak])가 된다.<br/>
D[a(i+1)] + D[a(i+2)] + ... + D[ak]는 앞에 용이 빠졌으므로 빠지는 효율이 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/26142