# C#

## 난이도 : 골드 4

## 알고리즘 분류
  - 자료 구조
  - 그래프 이론
  - 그래프 탐색
  - 분리 집합

## 제한조건
  - 시간 제한 : 1초
  - 메모리 제한 : 1024 MB

## 문제
재형이는 청정수를 좋아하고 고인물을 싫어한다. 오늘도 청정수를 구하기 위해 물탱크들이 있는 마을에 방문한다.<br/>
마을에는 N개의 물탱크가 존재하고, 각 물탱크는 청정수 또는 고인물을 저장하고 있다. 그리고 물탱크는 공급의 편의를 위해 M개의 파이프로 서로 연결되어 있다.<br/>
청정수를 얻기 위해 K번 물탱크에 방문했을 때, K번 물탱크와 K번 물탱크에서 0개 이상의 파이프를 거쳐 이동 가능한 물탱크 중, 청정수가 담긴 물탱크의 수가 고인물이 담긴 물탱크의 수보다 더 많은 경우 청정수를 얻을 수 있다.<br/>
방문할 예정인 물탱크에 대한 정보가 주어질 때마다, 청정수를 얻을 수 있는지 구해보자. <br/>


## 입력
첫째 줄에 물탱크의 수 N(1 ≤ N ≤ 100,000)과 파이프의 수 M(0 ≤ M ≤ 200,000), 그리고 물탱크에 방문할 횟수 Q(1 ≤ Q ≤ 100,000)가 주어진다.<br/>
둘째 줄에 1번부터 N번 물탱크까지 순서대로 들어있는 물의 종류가 주어진다. 청정수는 1, 고인물은 0으로 주어진다.<br/>
다음 3번째부터 M+2번째 줄까지 파이프가 연결하는 두 물탱크의 번호 u, v(1 ≤ u, v ≤ N, u ≠ v)가 주어진다. 같은 두 물탱크를 연결하는 파이프가 여러 개 존재할 수 있다.<br/>
M+3번째부터 M+Q+2번째 줄까지 방문할 물탱크의 번호 K(1 ≤ K ≤ N)가 주어진다.<br/>


## 출력
Q개의 줄에 각 물탱크에 방문했을 때 청정수를 얻을 수 있다면 1을, 아니면 0을 주어진 정보 순서대로 출력한다.<br/>


## 예제 입력
5 3 3<br/>
1 0 1 1 0<br/>
1 2<br/>
3 4<br/>
4 5<br/>
1<br/>
5<br/>
4<br/>

## 예제 출력
0<br/>
1<br/>
1<br/>


## 힌트
첫번째 쿼리는 1번 물탱크와 연결된 물탱크는 2번 물탱크 하나이므로, 고인물이 담긴 물탱크와 청정수가 담긴 물탱크의 수가 같다.<br/>
두번째 쿼리는 5번 물탱크와 연결된 물탱크는 3, 4번 물탱크이므로, 고인물이 담긴 물탱크보다 청정수가 담긴 물탱크가 더 많다.<br/>


## 풀이
두 물탱크가 이어진 것을 확인해야 한다.<br/>
이에 유니온 파인드 알고리즘으로 물탱크가 이어진 것을 관리하고 고인물의 갯수와 청정수의 갯수를 관리하면 된다.<br/>
이후 해당 물탱크를 방문하면 그룹을 확인하고 청정수와 고인물을 비교해 정답을 구하면 된다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/25187