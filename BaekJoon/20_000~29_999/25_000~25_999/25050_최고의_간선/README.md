# C#

## 난이도 : 플레티넘 5

## 알고리즘 분류
  - 다이나믹 프로그래밍
  - 그래프 이론
  - 그래프 탐색
  - 트리
  - 최단 경로
  - 데이크스트라
  - 트리에서의 다이나믹 프로그래밍

## 제한조건
  - 시간 제한 : 2초
  - 메모리 제한 : 1024 MB

## 문제
정점이 N개이고, 간선이 M개인 단방향 그래프가 주어집니다. 간선은 입력에서 주어지는 순서대로 1번부터 M번까지의 번호가 붙어 있습니다.<br/>
소영이는 많은 정점 쌍들을 최단 거리로 빠르게 연결하고 있는 간선들이 기특하다는 생각이 들었습니다. 그래서 간선들에 각각 점수를 매긴 뒤, 가장 점수가 높은 간선들에게 최고의 간선 상을 수여하려고 합니다. 간선의 점수는 아래와 같은 방식으로 계산합니다.<br/>

  - 어떤 정점 S에서 정점 E로 가는 최단 경로가 존재한다면, 그 최단 경로에 포함되는 모든 간선은 각각 1점을 얻습니다. 모든 정점 쌍에 대해, 경로가 존재한다면 최단 경로가 유일한 데이터만 입력으로 주어집니다.
  - 만약 정점 S에서 정점 E로 가는 경로가 존재하지 않는다면, 정점 쌍 (S, E) 에 대해서는 모든 간선이 점수를 받지 못합니다.
  - S ≠ E 이고 1 ≤ S, E ≤ N을 만족하는 모든 정점 쌍 (S, E) 에서의 점수 합이 간선의 최종 점수가 됩니다.

소영이는 점수가 같은 간선이 여러 개가 있다면, 최고 점수를 기록한 모든 간선들에게 상을 주려고 합니다. 어떤 간선들이 최고의 간선 상을 받게 될지를 구해봅시다.<br/>


## 입력
첫 번째 줄에는 두 개의 정수 N과 M이 공백으로 구분되어 주어집니다. (2 ≤ N ≤ 2 x 10^3, 1 ≤ M ≤ min(N x (N-1), 5 x 10^3))<br/>
다음 M개의 줄에는 i 번째 간선의 시작 정점 u_i와 도착 정점 v_i, 그리고 간선의 길이 w_i가 공백으로 구분되어 주어집니다. 같은 정점 쌍을 연결하는 서로 다른 간선이 존재하지 않고, 시작 정점과 도착 정점이 같은 간선은 주어지지 않습니다. (1 ≤ u_i, v_i ≤ N, u_i ≠ v_i, 1 ≤ w_i ≤ 10^9)<br/>


## 출력
첫 번째 줄에는 상을 받게 될 간선의 수를 출력합니다.<br/>
두 번째 줄에는 상을 받게 될 간선의 번호를 작은 것부터 순서대로 공백으로 구분하여 출력합니다.<br/>


## 예제 입력
4 5<br/>
4 3 5<br/>
1 2 5<br/>
3 4 3<br/>
4 1 2<br/>
2 1 4<br/>


## 예제 출력
1<br/>
4<br/>


## 풀이
노드의 수가 200으로 각 노드에 대해 다익스트라를 실행할만하다.<br/>
그래서 다익스트라로 최단 경로를 찾고 최단 경로에 사용된 간선들을 모두 기록한다.<br/>


이후 사용된 간선으로 만들어진 그래프를 확인하면 최단 경로는 유일하다 했으므로 해당 그래프는 트리이다.<br/>
트리에 대해 DFS 탐색을 통해 간선이 사용된 횟수로 점수를 기록했다.<br/>


## 문제 링크
https://www.acmicpc.net/problem/25050